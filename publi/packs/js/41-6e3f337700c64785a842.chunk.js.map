{"version":3,"sources":["webpack:///./app/javascript/dashboard/components/widgets/TableFooter.vue?3db0","webpack:///./app/javascript/dashboard/components/widgets/TableFooter.vue?9e1d","webpack:///./app/javascript/dashboard/components/widgets/TableFooter.vue?69fe","webpack:///app/javascript/dashboard/components/widgets/TableFooter.vue","webpack:///./app/javascript/dashboard/components/widgets/TableFooter.vue","webpack:///app/javascript/dashboard/components/widgets/FilterInput/Index.vue","webpack:///./app/javascript/dashboard/components/widgets/FilterInput/Index.vue?99d2","webpack:///./app/javascript/dashboard/components/widgets/FilterInput/Index.vue","webpack:///./app/javascript/dashboard/components/widgets/FilterInput/Index.vue?9401","webpack:///./app/javascript/dashboard/helper/filterQueryGenerator.js","webpack:///./app/javascript/dashboard/components/widgets/FilterInput/Index.vue?3354","webpack:///./app/javascript/dashboard/components/widgets/FilterInput/FilterOperatorTypes.js","webpack:///./app/javascript/shared/mixins/filterMixin.js","webpack:///./app/javascript/dashboard/helper/customViewsHelper.js","webpack:///./app/javascript/dashboard/routes/dashboard/customviews/AddCustomViews.vue?7097","webpack:///app/javascript/dashboard/routes/dashboard/customviews/AddCustomViews.vue","webpack:///./app/javascript/dashboard/routes/dashboard/customviews/AddCustomViews.vue?fdab","webpack:///./app/javascript/dashboard/routes/dashboard/customviews/AddCustomViews.vue","webpack:///./app/javascript/dashboard/routes/dashboard/customviews/DeleteCustomViews.vue?2ff0","webpack:///app/javascript/dashboard/routes/dashboard/customviews/DeleteCustomViews.vue","webpack:///./app/javascript/dashboard/routes/dashboard/customviews/DeleteCustomViews.vue?2bb4","webpack:///./app/javascript/dashboard/routes/dashboard/customviews/DeleteCustomViews.vue","webpack:///./node_modules/core-js/modules/es.number.is-nan.js","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/Header.vue?f228","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactsTable.vue?3bb2","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactsAdvancedFilters.vue?7ec4","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactsView.vue?7468","webpack:///app/javascript/dashboard/routes/dashboard/contacts/components/Header.vue","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/Header.vue?aa4b","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/Header.vue","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/Header.vue?f1ca","webpack:///app/javascript/dashboard/routes/dashboard/contacts/components/ContactsTable.vue","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactsTable.vue?3a48","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactsTable.vue","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactsTable.vue?6313","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/CreateContact.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/CreateContact.vue?2e2e","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/CreateContact.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/CreateContact.vue?04d2","webpack:///app/javascript/dashboard/routes/dashboard/contacts/components/ImportContacts.vue","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ImportContacts.vue?0758","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ImportContacts.vue","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ImportContacts.vue?46df","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/contactFilterItems/index.js","webpack:///app/javascript/dashboard/routes/dashboard/contacts/components/ContactsAdvancedFilters.vue","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactsAdvancedFilters.vue?af9e","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactsAdvancedFilters.vue","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactsAdvancedFilters.vue?fb73","webpack:///app/javascript/dashboard/routes/dashboard/contacts/components/ContactsView.vue","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactsView.vue?fc03","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactsView.vue"],"names":["component","_vm","this","_c","_self","staticClass","_v","_s","firstIndex","lastIndex","totalCount","attrs","hasFirstPage","on","onFirstPage","class","pageFooterIconClass","hasPrevPage","onPrevPage","$event","preventDefault","currentPage","hasNextPage","onNextPage","hasLastPage","onLastPage","_e","getInputErrorClass","v","values","$dirty","$error","directives","name","rawName","value","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","_value","attributeKey","multiple","resetFilter","_l","group","i","key","attribute","domProps","disabled","filterOperator","operator","$t","inputType","dropdownValues","model","callback","$$v","composing","removeFilter","query_operator","generatePayload","data","payload","JSON","parse","stringify","item","attribute_key","split","isArray","id","val","setArrayValues","generateValues","length","undefined","OPERATOR_TYPES_1","label","OPERATOR_TYPES_2","OPERATOR_TYPES_3","OPERATOR_TYPES_4","OPERATOR_TYPES_5","methods","setFilterAttributes","allCustomAttributes","$store","getters","attributeModel","customAttributesFormatted","filtersFori18n","attributes","attr","attribute_display_name","allFilterGroups","filterAttributeGroups","i18nGroup","i18nKey","customAttributeTypes","attributeI18nKey","attribute_display_type","toUpperCase","customAttributeInputType","filterOperators","getOperatorTypes","filterTypes","filterGroups","initializeExistingFilterToModal","initializeStatusAndAssigneeFilterToModal","initializeInboxTeamAndLabelFilterToModal","activeStatus","appliedFilter","push","attribute_model","filter_operator","custom_attribute_type","activeAssigneeTab","wootConstants","ASSIGNEE_TYPE","ME","currentUserDetails","conversationInbox","inbox","teamId","activeTeam","getValuesName","list","idKey","nameKey","find","generateValuesForEditCustomViews","params","inboxType","type","getInputType","filterInputTypes","text","number","date","checkbox","link","getAttributeInputType","toString","languages","countries","agents","inboxes","teams","campaigns","labels","getValuesForStatus","includes","title","getValuesForLabels","language","toLowerCase","getValuesForLanguages","country","getValuesForCountries","getValuesForFilter","show","onClose","saveCustomViews","apply","arguments","error","$v","$touch","isButtonDisabled","showDeletePopup","closeDeletePopup","deleteSavedCustomViews","deleteMessage","deleteConfirmText","deleteRejectText","$","stat","isNaN","headerTitle","searchQuery","indexOf","_k","keyCode","submitSearch","inputSearch","searchButtonClass","onToggleEditSegmentsModal","onToggleDeleteSegmentsModal","hasActiveSegments","toggleFilter","hasAppliedFilters","onToggleSegmentsModal","toggleCreate","toggleImport","submitExport","columns","tableData","sortOption","isLoading","contacts","onCancel","uiFlags","isCreating","onSubmit","onSuccess","csvUrl","ref","handleFileUpload","file","uploadFile","dataType","attribute_type","filterModalHeaderTitle","filterModalSubTitle","activeSegmentNewName","appliedFilters","getOperators","getDropdownValues","showUserInput","$each","$set","appendNewFilter","isSegmentsView","clearFilters","updateSegment","submitFilterQuery","wrapClass","pageTitle","segmentsId","onInputSearch","onToggleCreate","onToggleFilters","onSearchSubmit","onToggleImport","onExportSubmit","onToggleSaveFilters","onToggleDeleteFilters","records","showEmptySearchResult","isFetching","openContactInfoPanel","selectedContactId","onSortChange","Number","meta","count","onPageChange","segmentsQuery","filterType","openSavedItemInSegment","onCloseAddSegmentsModal","showDeleteSegmentsModal","activeSegment","openLastItemAfterDeleteInSegment","onCloseDeleteSegmentsModal","selectedContact","closeContactInfoPanel","showCreateModal","showImportModal","showFiltersModal","closeAdvanceFiltersModal","contactFilterItems","activeSegmentName","onApplyFilter","onUpdateSegment"],"mappings":"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,EAAW,QAAEE,EAAG,cAAc,CAACE,YAAY,QAAQM,MAAM,CAAC,eAAe,OAAO,KAAO,UAAUE,GAAG,CAAC,MAAQZ,EAAIwM,eAAe,CAACxM,EAAIK,GAAG,aAAaL,EAAIM,GAAGN,EAAI2D,GAAG,iCAAiC,cAAc3D,EAAIyB,KAAKzB,EAAIK,GAAG,KAAML,EAAW,QAAEE,EAAG,cAAc,CAACE,YAAY,QAAQM,MAAM,CAAC,eAAe,OAAO,KAAO,YAAYE,GAAG,CAAC,MAAQZ,EAAIyM,eAAe,CAACzM,EAAIK,GAAG,aAAaL,EAAIM,GAAGN,EAAI2D,GAAG,iCAAiC,cAAc3D,EAAIyB,MAAM,SAEx9G,IDUpB,EACA,KACA,WACA,MAIa,EAAA1B,E,qxBEsBf,ICzCqO,EDyCrO,CACA,YACA,eACA,YACA,mBAEA,yBACA,OACA,UACA,WACA,8BAEA,sBACA,aACA,YAEA,gBACA,cACA,sBAEA,WACA,aACA,YAEA,iBACA,qBACA,YAEA,WACA,YACA,4BAEA,WACA,YACA,iBAGA,KArCA,WAqCA,WACA,OACA,cACA,YACA,cACA,8DAIA,UACA,UADA,WACA,WACA,sBACA,GAEA,+BAGA,kCACA,qBACA,eACA,cACA,GADA,IAEA,mCACA,8BACA,+BACA,mBACA,kBACA,2BACA,gDACA,mBACA,iBACA,MACA,0CAIA,QA3BA,WA2BA,iCACA,OACA,CACA,aACA,WACA,sDACA,aACA,oCACA,gCACA,UACA,8CACC,EAAD,sBACA,iBADA,UAEA,4CAFA,CAIA,mCACA,cACA,gBACA,YACA,gBACA,gCAEA,8BACA,kFACA,wBACA,iFACA,mBAFA,CAIA,WAGA,mEACA,kDAOA,CACA,cACA,YACA,+DACA,oCACA,iCACA,UACA,uCACA,eAEC,EAAD,kGACA,cACA,gBACA,mCACA,iCAHA,CAKA,YAIA,QAGA,CACA,qBACA,mBACA,wCACA,8DACA,qCAEA,CACA,gBACA,cACA,wCACA,yDACA,qCAEA,CACA,aACA,WACA,gCACA,sDACA,qCAEA,CACA,gBACA,cACA,yDACA,oCACA,mCACA,uCACA,iBAEC,EAAD,2EACA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","file":"js/41-6e3f337700c64785a842.chunk.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableFooter.vue?vue&type=style&index=0&id=0bdf6a88&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isFooterVisible)?_c('footer',{staticClass:\"bg-white dark:bg-slate-800 h-[60px] border-t border-solid border-slate-75 dark:border-slate-700/50 flex items-center justify-between py-0 px-4\"},[_c('div',{staticClass:\"left-aligned-wrap\"},[_c('div',{staticClass:\"text-xs text-slate-600 dark:text-slate-200\"},[_c('strong',[_vm._v(_vm._s(_vm.firstIndex))]),_vm._v(\"\\n      - \"),_c('strong',[_vm._v(_vm._s(_vm.lastIndex))]),_vm._v(\" of\\n      \"),_c('strong',[_vm._v(_vm._s(_vm.totalCount))]),_vm._v(\" items\\n    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"right-aligned-wrap\"},[(_vm.totalCount)?_c('div',{staticClass:\"primary button-group pagination-button-group\"},[_c('woot-button',{attrs:{\"size\":\"small\",\"variant\":\"smooth\",\"color-scheme\":\"secondary\",\"class-names\":\"goto-first\",\"is-disabled\":_vm.hasFirstPage},on:{\"click\":_vm.onFirstPage}},[_c('fluent-icon',{attrs:{\"icon\":\"chevron-left\",\"size\":\"18\"}}),_vm._v(\" \"),_c('fluent-icon',{class:_vm.pageFooterIconClass,attrs:{\"icon\":\"chevron-left\",\"size\":\"18\"}})],1),_vm._v(\" \"),_c('woot-button',{attrs:{\"size\":\"small\",\"variant\":\"smooth\",\"color-scheme\":\"secondary\",\"is-disabled\":_vm.hasPrevPage},on:{\"click\":_vm.onPrevPage}},[_c('fluent-icon',{attrs:{\"icon\":\"chevron-left\",\"size\":\"18\"}})],1),_vm._v(\" \"),_c('woot-button',{attrs:{\"size\":\"small\",\"variant\":\"smooth\",\"color-scheme\":\"secondary\"},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(\"\\n        \"+_vm._s(_vm.currentPage)+\"\\n      \")]),_vm._v(\" \"),_c('woot-button',{attrs:{\"size\":\"small\",\"variant\":\"smooth\",\"color-scheme\":\"secondary\",\"is-disabled\":_vm.hasNextPage},on:{\"click\":_vm.onNextPage}},[_c('fluent-icon',{attrs:{\"icon\":\"chevron-right\",\"size\":\"18\"}})],1),_vm._v(\" \"),_c('woot-button',{attrs:{\"size\":\"small\",\"variant\":\"smooth\",\"color-scheme\":\"secondary\",\"class-names\":\"goto-last\",\"is-disabled\":_vm.hasLastPage},on:{\"click\":_vm.onLastPage}},[_c('fluent-icon',{attrs:{\"icon\":\"chevron-right\",\"size\":\"18\"}}),_vm._v(\" \"),_c('fluent-icon',{class:_vm.pageFooterIconClass,attrs:{\"icon\":\"chevron-right\",\"size\":\"18\"}})],1)],1):_vm._e()])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableFooter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableFooter.vue?vue&type=script&lang=js&\"","<template>\n  <footer\n    v-if=\"isFooterVisible\"\n    class=\"bg-white dark:bg-slate-800 h-[60px] border-t border-solid border-slate-75 dark:border-slate-700/50 flex items-center justify-between py-0 px-4\"\n  >\n    <div class=\"left-aligned-wrap\">\n      <div class=\"text-xs text-slate-600 dark:text-slate-200\">\n        <strong>{{ firstIndex }}</strong>\n        - <strong>{{ lastIndex }}</strong> of\n        <strong>{{ totalCount }}</strong> items\n      </div>\n    </div>\n    <div class=\"right-aligned-wrap\">\n      <div\n        v-if=\"totalCount\"\n        class=\"primary button-group pagination-button-group\"\n      >\n        <woot-button\n          size=\"small\"\n          variant=\"smooth\"\n          color-scheme=\"secondary\"\n          class-names=\"goto-first\"\n          :is-disabled=\"hasFirstPage\"\n          @click=\"onFirstPage\"\n        >\n          <fluent-icon icon=\"chevron-left\" size=\"18\" />\n          <fluent-icon\n            icon=\"chevron-left\"\n            size=\"18\"\n            :class=\"pageFooterIconClass\"\n          />\n        </woot-button>\n        <woot-button\n          size=\"small\"\n          variant=\"smooth\"\n          color-scheme=\"secondary\"\n          :is-disabled=\"hasPrevPage\"\n          @click=\"onPrevPage\"\n        >\n          <fluent-icon icon=\"chevron-left\" size=\"18\" />\n        </woot-button>\n        <woot-button\n          size=\"small\"\n          variant=\"smooth\"\n          color-scheme=\"secondary\"\n          @click.prevent\n        >\n          {{ currentPage }}\n        </woot-button>\n        <woot-button\n          size=\"small\"\n          variant=\"smooth\"\n          color-scheme=\"secondary\"\n          :is-disabled=\"hasNextPage\"\n          @click=\"onNextPage\"\n        >\n          <fluent-icon icon=\"chevron-right\" size=\"18\" />\n        </woot-button>\n        <woot-button\n          size=\"small\"\n          variant=\"smooth\"\n          color-scheme=\"secondary\"\n          class-names=\"goto-last\"\n          :is-disabled=\"hasLastPage\"\n          @click=\"onLastPage\"\n        >\n          <fluent-icon icon=\"chevron-right\" size=\"18\" />\n          <fluent-icon\n            icon=\"chevron-right\"\n            size=\"18\"\n            :class=\"pageFooterIconClass\"\n          />\n        </woot-button>\n      </div>\n    </div>\n  </footer>\n</template>\n\n<script>\nimport rtlMixin from 'shared/mixins/rtlMixin';\n\nexport default {\n  components: {},\n  mixins: [rtlMixin],\n  props: {\n    currentPage: {\n      type: Number,\n      default: 1,\n    },\n    pageSize: {\n      type: Number,\n      default: 25,\n    },\n    totalCount: {\n      type: Number,\n      default: 0,\n    },\n  },\n  computed: {\n    pageFooterIconClass() {\n      return this.isRTLView\n        ? 'margin-right-minus-slab'\n        : 'margin-left-minus-slab';\n    },\n    isFooterVisible() {\n      return this.totalCount && !(this.firstIndex > this.totalCount);\n    },\n    firstIndex() {\n      return this.pageSize * (this.currentPage - 1) + 1;\n    },\n    lastIndex() {\n      return Math.min(this.totalCount, this.pageSize * this.currentPage);\n    },\n    searchButtonClass() {\n      return this.searchQuery !== '' ? 'show' : '';\n    },\n    hasLastPage() {\n      return !!Math.ceil(this.totalCount / this.pageSize);\n    },\n    hasFirstPage() {\n      return this.currentPage === 1;\n    },\n    hasNextPage() {\n      return this.currentPage === Math.ceil(this.totalCount / this.pageSize);\n    },\n    hasPrevPage() {\n      return this.currentPage === 1;\n    },\n  },\n  methods: {\n    onNextPage() {\n      if (this.hasNextPage) {\n        return;\n      }\n      const newPage = this.currentPage + 1;\n      this.onPageChange(newPage);\n    },\n    onPrevPage() {\n      if (this.hasPrevPage) {\n        return;\n      }\n      const newPage = this.currentPage - 1;\n      this.onPageChange(newPage);\n    },\n    onFirstPage() {\n      if (this.hasFirstPage) {\n        return;\n      }\n      const newPage = 1;\n      this.onPageChange(newPage);\n    },\n    onLastPage() {\n      if (this.hasLastPage) {\n        return;\n      }\n      const newPage = Math.ceil(this.totalCount / this.pageSize);\n      this.onPageChange(newPage);\n    },\n    onPageChange(page) {\n      this.$emit('page-change', page);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.goto-first,\n.goto-last {\n  i:last-child {\n    @apply -ml-1;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./TableFooter.vue?vue&type=template&id=0bdf6a88&scoped=true&\"\nimport script from \"./TableFooter.vue?vue&type=script&lang=js&\"\nexport * from \"./TableFooter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TableFooter.vue?vue&type=style&index=0&id=0bdf6a88&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bdf6a88\",\n  null\n  \n)\n\nexport default component.exports","<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <div>\n    <div\n      class=\"rounded-md p-2 border border-solid\"\n      :class=\"getInputErrorClass(v.values.$dirty, v.values.$error)\"\n    >\n      <div class=\"flex\">\n        <select\n          v-if=\"groupedFilters\"\n          v-model=\"attributeKey\"\n          class=\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\"\n          @change=\"resetFilter()\"\n        >\n          <optgroup\n            v-for=\"(group, i) in filterGroups\"\n            :key=\"i\"\n            :label=\"group.name\"\n          >\n            <option\n              v-for=\"attribute in group.attributes\"\n              :key=\"attribute.key\"\n              :value=\"attribute.key\"\n            >\n              {{ attribute.name }}\n            </option>\n          </optgroup>\n        </select>\n        <select\n          v-else\n          v-model=\"attributeKey\"\n          class=\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\"\n          @change=\"resetFilter()\"\n        >\n          <option\n            v-for=\"attribute in filterAttributes\"\n            :key=\"attribute.key\"\n            :value=\"attribute.key\"\n            :disabled=\"attribute.disabled\"\n          >\n            {{ attribute.name }}\n          </option>\n        </select>\n\n        <select\n          v-model=\"filterOperator\"\n          class=\"bg-white dark:bg-slate-900 max-w-[20%] mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\"\n        >\n          <option\n            v-for=\"(operator, o) in operators\"\n            :key=\"o\"\n            :value=\"operator.value\"\n          >\n            {{ $t(`FILTER.OPERATOR_LABELS.${operator.value}`) }}\n          </option>\n        </select>\n\n        <div v-if=\"showUserInput\" class=\"filter__answer--wrap mr-1 flex-grow\">\n          <div\n            v-if=\"inputType === 'multi_select'\"\n            class=\"multiselect-wrap--small\"\n          >\n            <multiselect\n              v-model=\"values\"\n              track-by=\"id\"\n              label=\"name\"\n              :placeholder=\"'Select'\"\n              :multiple=\"true\"\n              selected-label\n              :select-label=\"$t('FORMS.MULTISELECT.ENTER_TO_SELECT')\"\n              deselect-label=\"\"\n              :max-height=\"160\"\n              :options=\"dropdownValues\"\n              :allow-empty=\"false\"\n            />\n          </div>\n          <div\n            v-else-if=\"inputType === 'search_select'\"\n            class=\"multiselect-wrap--small\"\n          >\n            <multiselect\n              v-model=\"values\"\n              track-by=\"id\"\n              label=\"name\"\n              :placeholder=\"'Select'\"\n              selected-label\n              :select-label=\"$t('FORMS.MULTISELECT.ENTER_TO_SELECT')\"\n              deselect-label=\"\"\n              :max-height=\"160\"\n              :options=\"dropdownValues\"\n              :allow-empty=\"false\"\n              :option-height=\"104\"\n            />\n          </div>\n          <div v-else-if=\"inputType === 'date'\" class=\"multiselect-wrap--small\">\n            <input\n              v-model=\"values\"\n              type=\"date\"\n              :editable=\"false\"\n              class=\"mb-0 datepicker\"\n            />\n          </div>\n          <input\n            v-else\n            v-model=\"values\"\n            type=\"text\"\n            class=\"mb-0\"\n            placeholder=\"Enter value\"\n          />\n        </div>\n        <woot-button\n          icon=\"dismiss\"\n          variant=\"clear\"\n          color-scheme=\"secondary\"\n          @click=\"removeFilter\"\n        />\n      </div>\n      <p v-if=\"v.values.$dirty && v.values.$error\" class=\"filter-error\">\n        {{ $t('FILTER.EMPTY_VALUE_ERROR') }}\n      </p>\n    </div>\n\n    <div\n      v-if=\"showQueryOperator\"\n      class=\"flex items-center justify-center relative my-2.5 mx-0\"\n    >\n      <hr\n        class=\"w-full absolute border-b border-solid border-slate-75 dark:border-slate-800\"\n      />\n      <select\n        v-model=\"query_operator\"\n        class=\"bg-white dark:bg-slate-900 mb-0 w-auto relative text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\"\n      >\n        <option value=\"and\">\n          {{ $t('FILTER.QUERY_DROPDOWN_LABELS.AND') }}\n        </option>\n        <option value=\"or\">\n          {{ $t('FILTER.QUERY_DROPDOWN_LABELS.OR') }}\n        </option>\n      </select>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: {\n      type: Object,\n      default: () => null,\n    },\n    filterAttributes: {\n      type: Array,\n      default: () => [],\n    },\n    inputType: {\n      type: String,\n      default: 'plain_text',\n    },\n    dataType: {\n      type: String,\n      default: 'plain_text',\n    },\n    operators: {\n      type: Array,\n      default: () => [],\n    },\n    dropdownValues: {\n      type: Array,\n      default: () => [],\n    },\n    showQueryOperator: {\n      type: Boolean,\n      default: false,\n    },\n    v: {\n      type: Object,\n      default: () => null,\n    },\n    showUserInput: {\n      type: Boolean,\n      default: true,\n    },\n    groupedFilters: {\n      type: Boolean,\n      default: false,\n    },\n    filterGroups: {\n      type: Array,\n      default: () => [],\n    },\n    customAttributeType: {\n      type: String,\n      default: '',\n    },\n  },\n  computed: {\n    attributeKey: {\n      get() {\n        if (!this.value) return null;\n        return this.value.attribute_key;\n      },\n      set(value) {\n        const payload = this.value || {};\n        this.$emit('input', { ...payload, attribute_key: value });\n      },\n    },\n    filterOperator: {\n      get() {\n        if (!this.value) return null;\n        return this.value.filter_operator;\n      },\n      set(value) {\n        const payload = this.value || {};\n        this.$emit('input', { ...payload, filter_operator: value });\n      },\n    },\n    values: {\n      get() {\n        if (!this.value) return null;\n        return this.value.values;\n      },\n      set(value) {\n        const payload = this.value || {};\n        this.$emit('input', { ...payload, values: value });\n      },\n    },\n    query_operator: {\n      get() {\n        if (!this.value) return null;\n        return this.value.query_operator;\n      },\n      set(value) {\n        const payload = this.value || {};\n        this.$emit('input', { ...payload, query_operator: value });\n      },\n    },\n    custom_attribute_type: {\n      get() {\n        if (!this.customAttributeType) return '';\n        return this.customAttributeType;\n      },\n      set() {\n        const payload = this.value || {};\n        this.$emit('input', {\n          ...payload,\n          custom_attribute_type: this.customAttributeType,\n        });\n      },\n    },\n  },\n  watch: {\n    customAttributeType: {\n      handler(value) {\n        if (\n          value === 'conversation_attribute' ||\n          value === 'contact_attribute'\n        ) {\n          // eslint-disable-next-line vue/no-mutating-props\n          this.value.custom_attribute_type = this.customAttributeType;\n          // eslint-disable-next-line vue/no-mutating-props\n        } else this.value.custom_attribute_type = '';\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    removeFilter() {\n      this.$emit('removeFilter');\n    },\n    resetFilter() {\n      this.$emit('resetFilter');\n    },\n    getInputErrorClass(isDirty, hasError) {\n      return isDirty && hasError\n        ? 'bg-red-50 dark:bg-red-800/50 border-red-100 dark:border-red-700/50'\n        : 'bg-slate-50 dark:bg-slate-800 border-slate-75 dark:border-slate-700/50';\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.filter__answer--wrap {\n  input {\n    @apply bg-white dark:bg-slate-900 mb-0 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600;\n  }\n}\n\n.filter-error {\n  @apply text-red-500 dark:text-red-200 block my-1 mx-0;\n}\n\n.multiselect {\n  @apply mb-0;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=de5a525e&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=de5a525e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de5a525e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"rounded-md p-2 border border-solid\",class:_vm.getInputErrorClass(_vm.v.values.$dirty, _vm.v.values.$error)},[_c('div',{staticClass:\"flex\"},[(_vm.groupedFilters)?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.attributeKey),expression:\"attributeKey\"}],staticClass:\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.attributeKey=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.resetFilter()}]}},_vm._l((_vm.filterGroups),function(group,i){return _c('optgroup',{key:i,attrs:{\"label\":group.name}},_vm._l((group.attributes),function(attribute){return _c('option',{key:attribute.key,domProps:{\"value\":attribute.key}},[_vm._v(\"\\n            \"+_vm._s(attribute.name)+\"\\n          \")])}),0)}),0):_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.attributeKey),expression:\"attributeKey\"}],staticClass:\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.attributeKey=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.resetFilter()}]}},_vm._l((_vm.filterAttributes),function(attribute){return _c('option',{key:attribute.key,attrs:{\"disabled\":attribute.disabled},domProps:{\"value\":attribute.key}},[_vm._v(\"\\n          \"+_vm._s(attribute.name)+\"\\n        \")])}),0),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterOperator),expression:\"filterOperator\"}],staticClass:\"bg-white dark:bg-slate-900 max-w-[20%] mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.filterOperator=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.operators),function(operator,o){return _c('option',{key:o,domProps:{\"value\":operator.value}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(`FILTER.OPERATOR_LABELS.${operator.value}`))+\"\\n        \")])}),0),_vm._v(\" \"),(_vm.showUserInput)?_c('div',{staticClass:\"filter__answer--wrap mr-1 flex-grow\"},[(_vm.inputType === 'multi_select')?_c('div',{staticClass:\"multiselect-wrap--small\"},[_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":'Select',\"multiple\":true,\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":\"\",\"max-height\":160,\"options\":_vm.dropdownValues,\"allow-empty\":false},model:{value:(_vm.values),callback:function ($$v) {_vm.values=$$v},expression:\"values\"}})],1):(_vm.inputType === 'search_select')?_c('div',{staticClass:\"multiselect-wrap--small\"},[_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":'Select',\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":\"\",\"max-height\":160,\"options\":_vm.dropdownValues,\"allow-empty\":false,\"option-height\":104},model:{value:(_vm.values),callback:function ($$v) {_vm.values=$$v},expression:\"values\"}})],1):(_vm.inputType === 'date')?_c('div',{staticClass:\"multiselect-wrap--small\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.values),expression:\"values\"}],staticClass:\"mb-0 datepicker\",attrs:{\"type\":\"date\",\"editable\":false},domProps:{\"value\":(_vm.values)},on:{\"input\":function($event){if($event.target.composing)return;_vm.values=$event.target.value}}})]):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.values),expression:\"values\"}],staticClass:\"mb-0\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter value\"},domProps:{\"value\":(_vm.values)},on:{\"input\":function($event){if($event.target.composing)return;_vm.values=$event.target.value}}})]):_vm._e(),_vm._v(\" \"),_c('woot-button',{attrs:{\"icon\":\"dismiss\",\"variant\":\"clear\",\"color-scheme\":\"secondary\"},on:{\"click\":_vm.removeFilter}})],1),_vm._v(\" \"),(_vm.v.values.$dirty && _vm.v.values.$error)?_c('p',{staticClass:\"filter-error\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('FILTER.EMPTY_VALUE_ERROR'))+\"\\n    \")]):_vm._e()]),_vm._v(\" \"),(_vm.showQueryOperator)?_c('div',{staticClass:\"flex items-center justify-center relative my-2.5 mx-0\"},[_c('hr',{staticClass:\"w-full absolute border-b border-solid border-slate-75 dark:border-slate-800\"}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query_operator),expression:\"query_operator\"}],staticClass:\"bg-white dark:bg-slate-900 mb-0 w-auto relative text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.query_operator=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"and\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('FILTER.QUERY_DROPDOWN_LABELS.AND'))+\"\\n      \")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"or\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('FILTER.QUERY_DROPDOWN_LABELS.OR'))+\"\\n      \")])])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const setArrayValues = item => {\n  return item.values[0]?.id ? item.values.map(val => val.id) : item.values;\n};\n\nconst generateValues = item => {\n  if (item.attribute_key === 'content') {\n    const values = item.values || '';\n    return values.split(',');\n  }\n  if (Array.isArray(item.values)) {\n    return setArrayValues(item);\n  }\n  if (typeof item.values === 'object') {\n    return [item.values.id];\n  }\n  if (!item.values) {\n    return [];\n  }\n  return [item.values];\n};\n\nconst generatePayload = data => {\n  // Make a copy of data to avoid vue data reactivity issues\n  const filters = JSON.parse(JSON.stringify(data));\n  let payload = filters.map(item => {\n    // If item key is content, we will split it using comma and return as array\n    // FIX ME: Make this generic option instead of using the key directly here\n    item.values = generateValues(item);\n    return item;\n  });\n\n  // For every query added, the query_operator is set default to and so the\n  // last query will have an extra query_operator, this would break the api.\n  // Setting this to null for all query payload\n  payload[payload.length - 1].query_operator = undefined;\n  return { payload };\n};\n\nexport default generatePayload;\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=de5a525e&prod&lang=scss&scoped=true&\"","export const OPERATOR_TYPES_1 = [\n  {\n    value: 'equal_to',\n    label: 'Equal to',\n  },\n  {\n    value: 'not_equal_to',\n    label: 'Not equal to',\n  },\n];\n\nexport const OPERATOR_TYPES_2 = [\n  {\n    value: 'equal_to',\n    label: 'Equal to',\n  },\n  {\n    value: 'not_equal_to',\n    label: 'Not equal to',\n  },\n  {\n    value: 'is_present',\n    label: 'Is present',\n  },\n  {\n    value: 'is_not_present',\n    label: 'Is not present',\n  },\n];\n\nexport const OPERATOR_TYPES_3 = [\n  {\n    value: 'equal_to',\n    label: 'Equal to',\n  },\n  {\n    value: 'not_equal_to',\n    label: 'Not equal to',\n  },\n  {\n    value: 'contains',\n    label: 'Contains',\n  },\n  {\n    value: 'does_not_contain',\n    label: 'Does not contain',\n  },\n];\n\nexport const OPERATOR_TYPES_4 = [\n  {\n    value: 'equal_to',\n    label: 'Equal to',\n  },\n  {\n    value: 'not_equal_to',\n    label: 'Not equal to',\n  },\n  {\n    value: 'is_present',\n    label: 'Is present',\n  },\n  {\n    value: 'is_not_present',\n    label: 'Is not present',\n  },\n  {\n    value: 'is_greater_than',\n    label: 'Is greater than',\n  },\n  {\n    value: 'is_less_than',\n    label: 'Is less than',\n  },\n];\n\nexport const OPERATOR_TYPES_5 = [\n  {\n    value: 'is_greater_than',\n    label: 'Is greater than',\n  },\n  {\n    value: 'is_less_than',\n    label: 'Is less than',\n  },\n  {\n    value: 'days_before',\n    label: 'Is x days before',\n  },\n];\n","import wootConstants from 'dashboard/constants/globals';\n\nexport default {\n  methods: {\n    setFilterAttributes() {\n      const allCustomAttributes = this.$store.getters[\n        'attributes/getAttributesByModel'\n      ](this.attributeModel);\n      const customAttributesFormatted = {\n        name: this.$t(`${this.filtersFori18n}.GROUPS.CUSTOM_ATTRIBUTES`),\n        attributes: allCustomAttributes.map(attr => {\n          return {\n            key: attr.attribute_key,\n            name: attr.attribute_display_name,\n          };\n        }),\n      };\n      const allFilterGroups = this.filterAttributeGroups.map(group => {\n        return {\n          name: this.$t(`${this.filtersFori18n}.GROUPS.${group.i18nGroup}`),\n          attributes: group.attributes.map(attribute => {\n            return {\n              key: attribute.key,\n              name: this.$t(\n                `${this.filtersFori18n}.ATTRIBUTES.${attribute.i18nKey}`\n              ),\n            };\n          }),\n        };\n      });\n      const customAttributeTypes = allCustomAttributes.map(attr => {\n        return {\n          attributeKey: attr.attribute_key,\n          attributeI18nKey: `CUSTOM_ATTRIBUTE_${attr.attribute_display_type.toUpperCase()}`,\n          inputType: this.customAttributeInputType(attr.attribute_display_type),\n          filterOperators: this.getOperatorTypes(attr.attribute_display_type),\n          attributeModel: 'custom_attributes',\n        };\n      });\n      this.filterTypes = [...this.filterTypes, ...customAttributeTypes];\n      this.filterGroups = [...allFilterGroups, customAttributesFormatted];\n    },\n\n    initializeExistingFilterToModal() {\n      this.initializeStatusAndAssigneeFilterToModal();\n      this.initializeInboxTeamAndLabelFilterToModal();\n    },\n    initializeStatusAndAssigneeFilterToModal() {\n      if (this.activeStatus !== '') {\n        this.appliedFilter.push({\n          attribute_key: 'status',\n          attribute_model: 'standard',\n          filter_operator: 'equal_to',\n          values: [\n            {\n              id: this.activeStatus,\n              name: this.$t(\n                `CHAT_LIST.CHAT_STATUS_FILTER_ITEMS.${this.activeStatus}.TEXT`\n              ),\n            },\n          ],\n          query_operator: 'and',\n          custom_attribute_type: '',\n        });\n      }\n      if (this.activeAssigneeTab === wootConstants.ASSIGNEE_TYPE.ME) {\n        this.appliedFilter.push({\n          attribute_key: 'assignee_id',\n          filter_operator: 'equal_to',\n          values: this.currentUserDetails,\n          query_operator: 'and',\n          custom_attribute_type: '',\n        });\n      }\n    },\n    initializeInboxTeamAndLabelFilterToModal() {\n      if (this.conversationInbox) {\n        this.appliedFilter.push({\n          attribute_key: 'inbox_id',\n          attribute_model: 'standard',\n          filter_operator: 'equal_to',\n          values: [\n            {\n              id: this.conversationInbox,\n              name: this.inbox.name,\n            },\n          ],\n          query_operator: 'and',\n          custom_attribute_type: '',\n        });\n      }\n      if (this.teamId) {\n        this.appliedFilter.push({\n          attribute_key: 'team_id',\n          attribute_model: 'standard',\n          filter_operator: 'equal_to',\n          values: this.activeTeam,\n          query_operator: 'and',\n          custom_attribute_type: '',\n        });\n      }\n      if (this.label) {\n        this.appliedFilter.push({\n          attribute_key: 'labels',\n          attribute_model: 'standard',\n          filter_operator: 'equal_to',\n          values: [\n            {\n              id: this.label,\n              name: this.label,\n            },\n          ],\n          query_operator: 'and',\n          custom_attribute_type: '',\n        });\n      }\n    },\n  },\n};\n","export const getInputType = (key, operator, filterTypes) => {\n  if (key === 'created_at' || key === 'last_activity_at')\n    if (operator === 'days_before') return 'plain_text';\n  const type = filterTypes.find(filter => filter.attributeKey === key);\n  return type?.inputType;\n};\n\nexport const generateCustomAttributesInputType = type => {\n  const filterInputTypes = {\n    text: 'string',\n    number: 'string',\n    date: 'string',\n    checkbox: 'multi_select',\n    list: 'multi_select',\n    link: 'string',\n  };\n  return filterInputTypes[type];\n};\n\nexport const getAttributeInputType = (key, allCustomAttributes) => {\n  const customAttribute = allCustomAttributes.find(\n    attr => attr.attribute_key === key\n  );\n  const { attribute_display_type } = customAttribute;\n  const filterInputTypes = generateCustomAttributesInputType(\n    attribute_display_type\n  );\n  return filterInputTypes;\n};\n\nexport const getValuesName = (values, list, idKey, nameKey) => {\n  const item = list?.find(v => v[idKey] === values[0]);\n  return {\n    id: values[0],\n    name: item ? item[nameKey] : values[0],\n  };\n};\n\nexport const getValuesForStatus = values => {\n  return values.map(value => ({ id: value, name: value }));\n};\n\nconst getValuesForLabels = (values, labels) => {\n  const selectedLabels = labels.filter(label => values.includes(label.title));\n  return selectedLabels.map(({ title }) => ({\n    id: title,\n    name: title,\n  }));\n};\n\nconst getValuesForLanguages = (values, languages) => {\n  const selectedLanguages = languages.filter(language =>\n    values.includes(language.id)\n  );\n  return selectedLanguages.map(({ id, name }) => ({\n    id: id.toLowerCase(),\n    name: name,\n  }));\n};\n\nconst getValuesForCountries = (values, countries) => {\n  const selectedCountries = countries.filter(country =>\n    values.includes(country.id)\n  );\n  return selectedCountries.map(({ id, name }) => ({\n    id: id,\n    name: name,\n  }));\n};\n\nexport const getValuesForFilter = (filter, params) => {\n  const { attribute_key, values } = filter;\n  const { languages, countries, agents, inboxes, teams, campaigns, labels } =\n    params;\n  switch (attribute_key) {\n    case 'status':\n      return getValuesForStatus(values);\n    case 'assignee_id':\n      return getValuesName(values, agents, 'id', 'name');\n    case 'inbox_id':\n      return getValuesName(values, inboxes, 'id', 'name');\n    case 'team_id':\n      return getValuesName(values, teams, 'id', 'name');\n    case 'campaign_id':\n      return getValuesName(values, campaigns, 'id', 'title');\n    case 'labels': {\n      return getValuesForLabels(values, labels);\n    }\n    case 'browser_language': {\n      return getValuesForLanguages(values, languages);\n    }\n    case 'country_code': {\n      return getValuesForCountries(values, countries);\n    }\n    default:\n      return { id: values[0], name: values[0] };\n  }\n};\n\nexport const generateValuesForEditCustomViews = (filter, params) => {\n  const { attribute_key, filter_operator, values } = filter;\n  const { filterTypes, allCustomAttributes } = params;\n  const inboxType = getInputType(attribute_key, filter_operator, filterTypes);\n\n  if (inboxType === undefined) {\n    const filterInputTypes = getAttributeInputType(\n      attribute_key,\n      allCustomAttributes\n    );\n    return filterInputTypes === 'string'\n      ? values[0].toString()\n      : { id: values[0], name: values[0] };\n  }\n\n  return inboxType === 'multi_select' || inboxType === 'search_select'\n    ? getValuesForFilter(filter, params)\n    : values[0].toString();\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onClose},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('FILTER.CUSTOM_VIEWS.ADD.TITLE')}}),_vm._v(\" \"),_c('form',{staticClass:\"w-full\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveCustomViews.apply(null, arguments)}}},[_c('div',{staticClass:\"w-full\"},[_c('woot-input',{class:{ error: _vm.$v.name.$error },attrs:{\"label\":_vm.$t('FILTER.CUSTOM_VIEWS.ADD.LABEL'),\"type\":\"text\",\"error\":_vm.$v.name.$error ? _vm.$t('FILTER.CUSTOM_VIEWS.ADD.ERROR_MESSAGE') : '',\"placeholder\":_vm.$t('FILTER.CUSTOM_VIEWS.ADD.PLACEHOLDER')},on:{\"blur\":_vm.$v.name.$touch},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row justify-end gap-2 py-2 px-0 w-full\"},[_c('woot-button',{attrs:{\"disabled\":_vm.isButtonDisabled}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('FILTER.CUSTOM_VIEWS.ADD.SAVE_BUTTON'))+\"\\n        \")]),_vm._v(\" \"),_c('woot-button',{attrs:{\"variant\":\"clear\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('FILTER.CUSTOM_VIEWS.ADD.CANCEL_BUTTON'))+\"\\n        \")])],1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <woot-modal :show.sync=\"show\" :on-close=\"onClose\">\n    <woot-modal-header :header-title=\"$t('FILTER.CUSTOM_VIEWS.ADD.TITLE')\" />\n    <form class=\"w-full\" @submit.prevent=\"saveCustomViews\">\n      <div class=\"w-full\">\n        <woot-input\n          v-model=\"name\"\n          :label=\"$t('FILTER.CUSTOM_VIEWS.ADD.LABEL')\"\n          type=\"text\"\n          :error=\"\n            $v.name.$error ? $t('FILTER.CUSTOM_VIEWS.ADD.ERROR_MESSAGE') : ''\n          \"\n          :class=\"{ error: $v.name.$error }\"\n          :placeholder=\"$t('FILTER.CUSTOM_VIEWS.ADD.PLACEHOLDER')\"\n          @blur=\"$v.name.$touch\"\n        />\n\n        <div class=\"flex flex-row justify-end gap-2 py-2 px-0 w-full\">\n          <woot-button :disabled=\"isButtonDisabled\">\n            {{ $t('FILTER.CUSTOM_VIEWS.ADD.SAVE_BUTTON') }}\n          </woot-button>\n          <woot-button variant=\"clear\" @click.prevent=\"onClose\">\n            {{ $t('FILTER.CUSTOM_VIEWS.ADD.CANCEL_BUTTON') }}\n          </woot-button>\n        </div>\n      </div>\n    </form>\n  </woot-modal>\n</template>\n\n<script>\nimport { required, minLength } from 'vuelidate/lib/validators';\nimport alertMixin from 'shared/mixins/alertMixin';\nimport { CONTACTS_EVENTS } from '../../../helper/AnalyticsHelper/events';\n\nexport default {\n  mixins: [alertMixin],\n  props: {\n    filterType: {\n      type: Number,\n      default: 0,\n    },\n    customViewsQuery: {\n      type: Object,\n      default: () => {},\n    },\n    openLastSavedItem: {\n      type: Function,\n      default: () => {},\n    },\n  },\n\n  data() {\n    return {\n      show: true,\n      name: '',\n    };\n  },\n\n  computed: {\n    isButtonDisabled() {\n      return this.$v.name.$invalid;\n    },\n  },\n\n  validations: {\n    name: {\n      required,\n      minLength: minLength(1),\n    },\n  },\n\n  methods: {\n    onClose() {\n      this.$emit('close');\n    },\n    async saveCustomViews() {\n      this.$v.$touch();\n      if (this.$v.$invalid) {\n        return;\n      }\n      try {\n        await this.$store.dispatch('customViews/create', {\n          name: this.name,\n          filter_type: this.filterType,\n          query: this.customViewsQuery,\n        });\n        this.alertMessage =\n          this.filterType === 0\n            ? this.$t('FILTER.CUSTOM_VIEWS.ADD.API_FOLDERS.SUCCESS_MESSAGE')\n            : this.$t('FILTER.CUSTOM_VIEWS.ADD.API_SEGMENTS.SUCCESS_MESSAGE');\n        this.onClose();\n\n        this.$track(CONTACTS_EVENTS.SAVE_FILTER, {\n          type: this.filterType === 0 ? 'folder' : 'segment',\n        });\n      } catch (error) {\n        const errorMessage = error?.message;\n        this.alertMessage =\n          errorMessage || this.filterType === 0\n            ? errorMessage\n            : this.$t('FILTER.CUSTOM_VIEWS.ADD.API_SEGMENTS.ERROR_MESSAGE');\n      } finally {\n        this.showAlert(this.alertMessage);\n      }\n      this.openLastSavedItem();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCustomViews.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCustomViews.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddCustomViews.vue?vue&type=template&id=25709f0d&\"\nimport script from \"./AddCustomViews.vue?vue&type=script&lang=js&\"\nexport * from \"./AddCustomViews.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.showDeletePopup)?_c('woot-delete-modal',{attrs:{\"show\":_vm.showDeletePopup,\"on-close\":_vm.closeDeletePopup,\"on-confirm\":_vm.deleteSavedCustomViews,\"title\":_vm.$t('FILTER.CUSTOM_VIEWS.DELETE.MODAL.CONFIRM.TITLE'),\"message\":_vm.$t('FILTER.CUSTOM_VIEWS.DELETE.MODAL.CONFIRM.MESSAGE'),\"message-value\":_vm.deleteMessage,\"confirm-text\":_vm.deleteConfirmText,\"reject-text\":_vm.deleteRejectText},on:{\"update:show\":function($event){_vm.showDeletePopup=$event}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <div>\n    <woot-delete-modal\n      v-if=\"showDeletePopup\"\n      :show.sync=\"showDeletePopup\"\n      :on-close=\"closeDeletePopup\"\n      :on-confirm=\"deleteSavedCustomViews\"\n      :title=\"$t('FILTER.CUSTOM_VIEWS.DELETE.MODAL.CONFIRM.TITLE')\"\n      :message=\"$t('FILTER.CUSTOM_VIEWS.DELETE.MODAL.CONFIRM.MESSAGE')\"\n      :message-value=\"deleteMessage\"\n      :confirm-text=\"deleteConfirmText\"\n      :reject-text=\"deleteRejectText\"\n    />\n  </div>\n</template>\n\n<script>\nimport alertMixin from 'shared/mixins/alertMixin';\nimport { CONTACTS_EVENTS } from '../../../helper/AnalyticsHelper/events';\nexport default {\n  mixins: [alertMixin],\n  props: {\n    showDeletePopup: {\n      type: Boolean,\n      default: false,\n    },\n    activeCustomView: {\n      type: Object,\n      default: () => {},\n    },\n    customViewsId: {\n      type: [String, Number],\n      default: 0,\n    },\n    activeFilterType: {\n      type: Number,\n      default: 0,\n    },\n    openLastItemAfterDelete: {\n      type: Function,\n      default: () => {},\n    },\n  },\n\n  computed: {\n    activeCustomViews() {\n      if (this.activeFilterType === 0) {\n        return 'conversation';\n      }\n      if (this.activeFilterType === 1) {\n        return 'contact';\n      }\n      return '';\n    },\n    deleteMessage() {\n      return ` ${this.activeCustomView && this.activeCustomView.name}?`;\n    },\n    deleteConfirmText() {\n      return `${this.$t('FILTER.CUSTOM_VIEWS.DELETE.MODAL.CONFIRM.YES')}`;\n    },\n    deleteRejectText() {\n      return `${this.$t('FILTER.CUSTOM_VIEWS.DELETE.MODAL.CONFIRM.NO')}`;\n    },\n    isFolderSection() {\n      return this.activeFilterType === 0 && this.$route.name !== 'home';\n    },\n    isSegmentSection() {\n      return (\n        this.activeFilterType === 1 && this.$route.name !== 'contacts_dashboard'\n      );\n    },\n  },\n\n  methods: {\n    async deleteSavedCustomViews() {\n      try {\n        const id = Number(this.customViewsId);\n        const filterType = this.activeCustomViews;\n        await this.$store.dispatch('customViews/delete', { id, filterType });\n        this.closeDeletePopup();\n        this.showAlert(\n          this.activeFilterType === 0\n            ? this.$t('FILTER.CUSTOM_VIEWS.DELETE.API_FOLDERS.SUCCESS_MESSAGE')\n            : this.$t('FILTER.CUSTOM_VIEWS.DELETE.API_SEGMENTS.SUCCESS_MESSAGE')\n        );\n        this.$track(CONTACTS_EVENTS.DELETE_FILTER, {\n          type: this.filterType === 0 ? 'folder' : 'segment',\n        });\n      } catch (error) {\n        const errorMessage =\n          error?.response?.message || this.activeFilterType === 0\n            ? this.$t('FILTER.CUSTOM_VIEWS.DELETE.API_FOLDERS.SUCCESS_MESSAGE')\n            : this.$t(\n                'FILTER.CUSTOM_VIEWS.DELETE.API_SEGMENTS.SUCCESS_MESSAGE'\n              );\n        this.showAlert(errorMessage);\n      }\n      this.openLastItemAfterDelete();\n    },\n    closeDeletePopup() {\n      this.$emit('close');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteCustomViews.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteCustomViews.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DeleteCustomViews.vue?vue&type=template&id=3accf600&\"\nimport script from \"./DeleteCustomViews.vue?vue&type=script&lang=js&\"\nexport * from \"./DeleteCustomViews.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\n\n// `Number.isNaN` method\n// https://tc39.es/ecma262/#sec-number.isnan\n$({ target: 'Number', stat: true }, {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare -- NaN check\n    return number != number;\n  }\n});\n","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=6ec795e6&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactsTable.vue?vue&type=style&index=0&id=508dfcdc&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactsAdvancedFilters.vue?vue&type=style&index=0&id=e14852b8&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-full flex flex-row\"},[_c('div',{staticClass:\"flex flex-col h-full\",class:_vm.wrapClass},[_c('contacts-header',{attrs:{\"search-query\":_vm.searchQuery,\"header-title\":_vm.pageTitle,\"segments-id\":_vm.segmentsId,\"this-selected-contact-id\":\"\"},on:{\"on-input-search\":_vm.onInputSearch,\"on-toggle-create\":_vm.onToggleCreate,\"on-toggle-filter\":_vm.onToggleFilters,\"on-search-submit\":_vm.onSearchSubmit,\"on-toggle-import\":_vm.onToggleImport,\"on-export-submit\":_vm.onExportSubmit,\"on-toggle-save-filter\":_vm.onToggleSaveFilters,\"on-toggle-delete-filter\":_vm.onToggleDeleteFilters,\"on-toggle-edit-filter\":_vm.onToggleFilters}}),_vm._v(\" \"),_c('contacts-table',{attrs:{\"contacts\":_vm.records,\"show-search-empty-state\":_vm.showEmptySearchResult,\"is-loading\":_vm.uiFlags.isFetching,\"on-click-contact\":_vm.openContactInfoPanel,\"active-contact-id\":_vm.selectedContactId},on:{\"on-sort-change\":_vm.onSortChange}}),_vm._v(\" \"),_c('table-footer',{attrs:{\"current-page\":Number(_vm.meta.currentPage),\"total-count\":_vm.meta.count,\"page-size\":15},on:{\"page-change\":_vm.onPageChange}})],1),_vm._v(\" \"),(_vm.showAddSegmentsModal)?_c('add-custom-views',{attrs:{\"custom-views-query\":_vm.segmentsQuery,\"filter-type\":_vm.filterType,\"open-last-saved-item\":_vm.openSavedItemInSegment},on:{\"close\":_vm.onCloseAddSegmentsModal}}):_vm._e(),_vm._v(\" \"),(_vm.showDeleteSegmentsModal)?_c('delete-custom-views',{attrs:{\"show-delete-popup\":_vm.showDeleteSegmentsModal,\"active-custom-view\":_vm.activeSegment,\"custom-views-id\":_vm.segmentsId,\"active-filter-type\":_vm.filterType,\"open-last-item-after-delete\":_vm.openLastItemAfterDeleteInSegment},on:{\"update:showDeletePopup\":function($event){_vm.showDeleteSegmentsModal=$event},\"update:show-delete-popup\":function($event){_vm.showDeleteSegmentsModal=$event},\"close\":_vm.onCloseDeleteSegmentsModal}}):_vm._e(),_vm._v(\" \"),(_vm.showContactViewPane)?_c('contact-info-panel',{attrs:{\"contact\":_vm.selectedContact,\"on-close\":_vm.closeContactInfoPanel}}):_vm._e(),_vm._v(\" \"),_c('create-contact',{attrs:{\"show\":_vm.showCreateModal},on:{\"cancel\":_vm.onToggleCreate}}),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showImportModal,\"on-close\":_vm.onToggleImport},on:{\"update:show\":function($event){_vm.showImportModal=$event}}},[(_vm.showImportModal)?_c('import-contacts',{attrs:{\"on-close\":_vm.onToggleImport}}):_vm._e()],1),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showFiltersModal,\"on-close\":_vm.closeAdvanceFiltersModal,\"size\":\"medium\"},on:{\"update:show\":function($event){_vm.showFiltersModal=$event}}},[(_vm.showFiltersModal)?_c('contacts-advanced-filters',{attrs:{\"on-close\":_vm.closeAdvanceFiltersModal,\"initial-filter-types\":_vm.contactFilterItems,\"initial-applied-filters\":_vm.appliedFilter,\"active-segment-name\":_vm.activeSegmentName,\"is-segments-view\":_vm.hasActiveSegments},on:{\"applyFilter\":_vm.onApplyFilter,\"updateSegment\":_vm.onUpdateSegment,\"clearFilters\":_vm.clearFilters}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <header\n    class=\"bg-white dark:bg-slate-900 border-b border-slate-50 dark:border-slate-800\"\n  >\n    <div class=\"flex justify-between w-full py-2 px-4\">\n      <div class=\"flex items-center justify-center max-w-full min-w-[6.25rem]\">\n        <woot-sidemenu-icon />\n        <h1\n          class=\"m-0 text-xl text-slate-900 dark:text-slate-100 overflow-hidden whitespace-nowrap text-ellipsis my-0 mx-2\"\n        >\n          {{ headerTitle }}\n        </h1>\n      </div>\n      <div class=\"flex gap-2\">\n        <div\n          class=\"max-w-[400px] min-w-[150px] flex items-center relative mx-2 search-wrap\"\n        >\n          <div class=\"flex items-center absolute h-full left-2.5\">\n            <fluent-icon\n              icon=\"search\"\n              class=\"h-5 leading-9 text-sm text-slate-700 dark:text-slate-200\"\n            />\n          </div>\n          <input\n            type=\"text\"\n            :placeholder=\"$t('CONTACTS_PAGE.SEARCH_INPUT_PLACEHOLDER')\"\n            class=\"contact-search border-slate-100 dark:border-slate-600\"\n            :value=\"searchQuery\"\n            @keyup.enter=\"submitSearch\"\n            @input=\"inputSearch\"\n          />\n          <woot-button\n            :is-loading=\"false\"\n            class=\"clear\"\n            :class-names=\"searchButtonClass\"\n            @click=\"submitSearch\"\n          >\n            {{ $t('CONTACTS_PAGE.SEARCH_BUTTON') }}\n          </woot-button>\n        </div>\n        <div v-if=\"hasActiveSegments\" class=\"flex gap-2\">\n          <woot-button\n            class=\"clear\"\n            color-scheme=\"secondary\"\n            icon=\"edit\"\n            @click=\"onToggleEditSegmentsModal\"\n          >\n            {{ $t('CONTACTS_PAGE.FILTER_CONTACTS_EDIT') }}\n          </woot-button>\n          <woot-button\n            class=\"clear\"\n            color-scheme=\"alert\"\n            icon=\"delete\"\n            @click=\"onToggleDeleteSegmentsModal\"\n          >\n            {{ $t('CONTACTS_PAGE.FILTER_CONTACTS_DELETE') }}\n          </woot-button>\n        </div>\n        <div v-if=\"!hasActiveSegments\" class=\"relative\">\n          <div\n            v-if=\"hasAppliedFilters\"\n            class=\"absolute h-2 w-2 top-1 right-3 bg-slate-500 dark:bg-slate-500 rounded-full\"\n          />\n          <woot-button\n            class=\"clear\"\n            color-scheme=\"secondary\"\n            data-testid=\"create-new-contact\"\n            icon=\"filter\"\n            @click=\"toggleFilter\"\n          >\n            {{ $t('CONTACTS_PAGE.FILTER_CONTACTS') }}\n          </woot-button>\n        </div>\n\n        <woot-button\n          v-if=\"hasAppliedFilters && !hasActiveSegments\"\n          class=\"clear\"\n          color-scheme=\"alert\"\n          variant=\"clear\"\n          icon=\"save\"\n          @click=\"onToggleSegmentsModal\"\n        >\n          {{ $t('CONTACTS_PAGE.FILTER_CONTACTS_SAVE') }}\n        </woot-button>\n        <woot-button\n          class=\"clear\"\n          color-scheme=\"success\"\n          icon=\"person-add\"\n          data-testid=\"create-new-contact\"\n          @click=\"toggleCreate\"\n        >\n          {{ $t('CREATE_CONTACT.BUTTON_LABEL') }}\n        </woot-button>\n\n        <woot-button\n          v-if=\"isAdmin\"\n          color-scheme=\"info\"\n          icon=\"upload\"\n          class=\"clear\"\n          @click=\"toggleImport\"\n        >\n          {{ $t('IMPORT_CONTACTS.BUTTON_LABEL') }}\n        </woot-button>\n\n        <woot-button\n          v-if=\"isAdmin\"\n          color-scheme=\"info\"\n          icon=\"download\"\n          class=\"clear\"\n          @click=\"submitExport\"\n        >\n          {{ $t('EXPORT_CONTACTS.BUTTON_LABEL') }}\n        </woot-button>\n      </div>\n    </div>\n  </header>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport adminMixin from 'dashboard/mixins/isAdmin';\n\nexport default {\n  mixins: [adminMixin],\n  props: {\n    headerTitle: {\n      type: String,\n      default: '',\n    },\n    searchQuery: {\n      type: String,\n      default: '',\n    },\n    segmentsId: {\n      type: [String, Number],\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      showCreateModal: false,\n      showImportModal: false,\n    };\n  },\n  computed: {\n    searchButtonClass() {\n      return this.searchQuery !== '' ? 'show' : '';\n    },\n    ...mapGetters({\n      getAppliedContactFilters: 'contacts/getAppliedContactFilters',\n    }),\n    hasAppliedFilters() {\n      return this.getAppliedContactFilters.length;\n    },\n    hasActiveSegments() {\n      return this.segmentsId !== 0;\n    },\n  },\n  methods: {\n    onToggleSegmentsModal() {\n      this.$emit('on-toggle-save-filter');\n    },\n    onToggleEditSegmentsModal() {\n      this.$emit('on-toggle-edit-filter');\n    },\n    onToggleDeleteSegmentsModal() {\n      this.$emit('on-toggle-delete-filter');\n    },\n    toggleCreate() {\n      this.$emit('on-toggle-create');\n    },\n    toggleFilter() {\n      this.$emit('on-toggle-filter');\n    },\n    toggleImport() {\n      this.$emit('on-toggle-import');\n    },\n    submitExport() {\n      this.$emit('on-export-submit');\n    },\n    submitSearch() {\n      this.$emit('on-search-submit');\n    },\n    inputSearch(event) {\n      this.$emit('on-input-search', event);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.search-wrap {\n  .contact-search {\n    @apply pl-9 pr-[3.75rem] text-sm w-full h-[2.375rem] m-0;\n  }\n\n  .button {\n    transition: transform 100ms linear;\n    @apply ml-2 h-8 right-1 absolute py-0 px-2 opacity-0 -translate-x-px invisible;\n  }\n\n  .button.show {\n    @apply opacity-100 translate-x-0 visible;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=6ec795e6&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=6ec795e6&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ec795e6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('header',{staticClass:\"bg-white dark:bg-slate-900 border-b border-slate-50 dark:border-slate-800\"},[_c('div',{staticClass:\"flex justify-between w-full py-2 px-4\"},[_c('div',{staticClass:\"flex items-center justify-center max-w-full min-w-[6.25rem]\"},[_c('woot-sidemenu-icon'),_vm._v(\" \"),_c('h1',{staticClass:\"m-0 text-xl text-slate-900 dark:text-slate-100 overflow-hidden whitespace-nowrap text-ellipsis my-0 mx-2\"},[_vm._v(\"\\n        \"+_vm._s(_vm.headerTitle)+\"\\n      \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"flex gap-2\"},[_c('div',{staticClass:\"max-w-[400px] min-w-[150px] flex items-center relative mx-2 search-wrap\"},[_c('div',{staticClass:\"flex items-center absolute h-full left-2.5\"},[_c('fluent-icon',{staticClass:\"h-5 leading-9 text-sm text-slate-700 dark:text-slate-200\",attrs:{\"icon\":\"search\"}})],1),_vm._v(\" \"),_c('input',{staticClass:\"contact-search border-slate-100 dark:border-slate-600\",attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('CONTACTS_PAGE.SEARCH_INPUT_PLACEHOLDER')},domProps:{\"value\":_vm.searchQuery},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.submitSearch.apply(null, arguments)},\"input\":_vm.inputSearch}}),_vm._v(\" \"),_c('woot-button',{staticClass:\"clear\",attrs:{\"is-loading\":false,\"class-names\":_vm.searchButtonClass},on:{\"click\":_vm.submitSearch}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CONTACTS_PAGE.SEARCH_BUTTON'))+\"\\n        \")])],1),_vm._v(\" \"),(_vm.hasActiveSegments)?_c('div',{staticClass:\"flex gap-2\"},[_c('woot-button',{staticClass:\"clear\",attrs:{\"color-scheme\":\"secondary\",\"icon\":\"edit\"},on:{\"click\":_vm.onToggleEditSegmentsModal}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CONTACTS_PAGE.FILTER_CONTACTS_EDIT'))+\"\\n        \")]),_vm._v(\" \"),_c('woot-button',{staticClass:\"clear\",attrs:{\"color-scheme\":\"alert\",\"icon\":\"delete\"},on:{\"click\":_vm.onToggleDeleteSegmentsModal}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CONTACTS_PAGE.FILTER_CONTACTS_DELETE'))+\"\\n        \")])],1):_vm._e(),_vm._v(\" \"),(!_vm.hasActiveSegments)?_c('div',{staticClass:\"relative\"},[(_vm.hasAppliedFilters)?_c('div',{staticClass:\"absolute h-2 w-2 top-1 right-3 bg-slate-500 dark:bg-slate-500 rounded-full\"}):_vm._e(),_vm._v(\" \"),_c('woot-button',{staticClass:\"clear\",attrs:{\"color-scheme\":\"secondary\",\"data-testid\":\"create-new-contact\",\"icon\":\"filter\"},on:{\"click\":_vm.toggleFilter}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CONTACTS_PAGE.FILTER_CONTACTS'))+\"\\n        \")])],1):_vm._e(),_vm._v(\" \"),(_vm.hasAppliedFilters && !_vm.hasActiveSegments)?_c('woot-button',{staticClass:\"clear\",attrs:{\"color-scheme\":\"alert\",\"variant\":\"clear\",\"icon\":\"save\"},on:{\"click\":_vm.onToggleSegmentsModal}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACTS_PAGE.FILTER_CONTACTS_SAVE'))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),_c('woot-button',{staticClass:\"clear\",attrs:{\"color-scheme\":\"success\",\"icon\":\"person-add\",\"data-testid\":\"create-new-contact\"},on:{\"click\":_vm.toggleCreate}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CREATE_CONTACT.BUTTON_LABEL'))+\"\\n      \")]),_vm._v(\" \"),(_vm.isAdmin)?_c('woot-button',{staticClass:\"clear\",attrs:{\"color-scheme\":\"info\",\"icon\":\"upload\"},on:{\"click\":_vm.toggleImport}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('IMPORT_CONTACTS.BUTTON_LABEL'))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.isAdmin)?_c('woot-button',{staticClass:\"clear\",attrs:{\"color-scheme\":\"info\",\"icon\":\"download\"},on:{\"click\":_vm.submitExport}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('EXPORT_CONTACTS.BUTTON_LABEL'))+\"\\n      \")]):_vm._e()],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section\n    class=\"contacts-table-wrap bg-white dark:bg-slate-900 flex-1 h-full overflow-hidden -mt-1\"\n  >\n    <ve-table\n      :fixed-header=\"true\"\n      max-height=\"calc(100vh - 7.125rem)\"\n      scroll-width=\"187rem\"\n      :columns=\"columns\"\n      :table-data=\"tableData\"\n      :border-around=\"false\"\n      :sort-option=\"sortOption\"\n    />\n\n    <empty-state\n      v-if=\"showSearchEmptyState\"\n      :title=\"$t('CONTACTS_PAGE.LIST.404')\"\n    />\n    <empty-state\n      v-else-if=\"!isLoading && !contacts.length\"\n      :title=\"$t('CONTACTS_PAGE.LIST.NO_CONTACTS')\"\n    />\n    <div v-if=\"isLoading\" class=\"items-center flex text-base justify-center\">\n      <spinner />\n      <span>{{ $t('CONTACTS_PAGE.LIST.LOADING_MESSAGE') }}</span>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { mixin as clickaway } from 'vue-clickaway';\nimport { VeTable } from 'vue-easytable';\nimport { getCountryFlag } from 'dashboard/helper/flag';\n\nimport Spinner from 'shared/components/Spinner.vue';\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nimport EmptyState from 'dashboard/components/widgets/EmptyState.vue';\nimport timeMixin from 'dashboard/mixins/time';\nimport rtlMixin from 'shared/mixins/rtlMixin';\nimport FluentIcon from 'shared/components/FluentIcon/DashboardIcon.vue';\n\nexport default {\n  components: {\n    EmptyState,\n    Spinner,\n    VeTable,\n  },\n  mixins: [clickaway, timeMixin, rtlMixin],\n  props: {\n    contacts: {\n      type: Array,\n      default: () => [],\n    },\n    showSearchEmptyState: {\n      type: Boolean,\n      default: false,\n    },\n    onClickContact: {\n      type: Function,\n      default: () => {},\n    },\n    isLoading: {\n      type: Boolean,\n      default: false,\n    },\n    activeContactId: {\n      type: [String, Number],\n      default: '',\n    },\n    sortParam: {\n      type: String,\n      default: 'last_activity_at',\n    },\n    sortOrder: {\n      type: String,\n      default: 'desc',\n    },\n  },\n  data() {\n    return {\n      sortConfig: {},\n      sortOption: {\n        sortAlways: true,\n        sortChange: params => this.$emit('on-sort-change', params),\n      },\n    };\n  },\n  computed: {\n    tableData() {\n      if (this.isLoading) {\n        return [];\n      }\n      return this.contacts.map(item => {\n        // Note: The attributes used here is in snake case\n        // as it simplier the sort attribute calculation\n        const additional = item.additional_attributes || {};\n        const { last_activity_at: lastActivityAt } = item;\n        const { created_at: createdAt } = item;\n        return {\n          ...item,\n          phone_number: item.phone_number || '---',\n          company: additional.company_name || '---',\n          profiles: additional.social_profiles || {},\n          city: additional.city || '---',\n          country: additional.country,\n          countryCode: additional.country_code,\n          conversationsCount: item.conversations_count || '---',\n          last_activity_at: lastActivityAt\n            ? this.dynamicTime(lastActivityAt)\n            : '---',\n          created_at: createdAt ? this.dynamicTime(createdAt) : '---',\n        };\n      });\n    },\n    columns() {\n      return [\n        {\n          field: 'name',\n          key: 'name',\n          title: this.$t('CONTACTS_PAGE.LIST.TABLE_HEADER.NAME'),\n          fixed: 'left',\n          align: this.isRTLView ? 'right' : 'left',\n          sortBy: this.sortConfig.name || '',\n          width: 300,\n          renderBodyCell: ({ row }) => (\n            <woot-button\n              variant=\"clear\"\n              onClick={() => this.onClickContact(row.id)}\n            >\n              <div class=\"row--user-block\">\n                <Thumbnail\n                  src={row.thumbnail}\n                  size=\"32px\"\n                  username={row.name}\n                  status={row.availability_status}\n                />\n                <div class=\"user-block\">\n                  <h6 class=\"sub-block-title overflow-hidden whitespace-nowrap text-ellipsis\">\n                    <router-link\n                      to={`/app/accounts/${this.$route.params.accountId}/contacts/${row.id}`}\n                      class=\"user-name\"\n                    >\n                      {row.name}\n                    </router-link>\n                  </h6>\n                  <button class=\"button clear small link view-details--button\">\n                    {this.$t('CONTACTS_PAGE.LIST.VIEW_DETAILS')}\n                  </button>\n                </div>\n              </div>\n            </woot-button>\n          ),\n        },\n        {\n          field: 'email',\n          key: 'email',\n          title: this.$t('CONTACTS_PAGE.LIST.TABLE_HEADER.EMAIL_ADDRESS'),\n          align: this.isRTLView ? 'right' : 'left',\n          sortBy: this.sortConfig.email || '',\n          width: 240,\n          renderBodyCell: ({ row }) => {\n            if (row.email)\n              return (\n                <div class=\"overflow-hidden whitespace-nowrap text-ellipsis text-woot-500 dark:text-woot-500\">\n                  <a\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer nofollow\"\n                    href={`mailto:${row.email}`}\n                  >\n                    {row.email}\n                  </a>\n                </div>\n              );\n            return '---';\n          },\n        },\n        {\n          field: 'phone_number',\n          key: 'phone_number',\n          sortBy: this.sortConfig.phone_number || '',\n          title: this.$t('CONTACTS_PAGE.LIST.TABLE_HEADER.PHONE_NUMBER'),\n          align: this.isRTLView ? 'right' : 'left',\n        },\n        {\n          field: 'company',\n          key: 'company',\n          sortBy: this.sortConfig.company_name || '',\n          title: this.$t('CONTACTS_PAGE.LIST.TABLE_HEADER.COMPANY'),\n          align: this.isRTLView ? 'right' : 'left',\n        },\n        {\n          field: 'city',\n          key: 'city',\n          sortBy: this.sortConfig.city || '',\n          title: this.$t('CONTACTS_PAGE.LIST.TABLE_HEADER.CITY'),\n          align: this.isRTLView ? 'right' : 'left',\n        },\n        {\n          field: 'country',\n          key: 'country',\n          title: this.$t('CONTACTS_PAGE.LIST.TABLE_HEADER.COUNTRY'),\n          align: this.isRTLView ? 'right' : 'left',\n          sortBy: this.sortConfig.country || '',\n          renderBodyCell: ({ row }) => {\n            if (row.country) {\n              return (\n                <div class=\"overflow-hidden whitespace-nowrap text-ellipsis\">\n                  {`${getCountryFlag(row.countryCode)} ${row.country}`}\n                </div>\n              );\n            }\n            return '---';\n          },\n        },\n        {\n          field: 'profiles',\n          key: 'profiles',\n          title: this.$t('CONTACTS_PAGE.LIST.TABLE_HEADER.SOCIAL_PROFILES'),\n          align: this.isRTLView ? 'right' : 'left',\n          renderBodyCell: ({ row }) => {\n            const { profiles } = row;\n\n            const items = Object.keys(profiles);\n\n            if (!items.length) return '---';\n\n            return (\n              <div class=\"cell--social-profiles flex gap-0.5 items-center\">\n                {items.map(\n                  profile =>\n                    profiles[profile] && (\n                      <a\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer nofollow\"\n                        href={`https://${profile}.com/${profiles[profile]}`}\n                      >\n                        <FluentIcon icon={`brand-${profile}`} />\n                      </a>\n                    )\n                )}\n              </div>\n            );\n          },\n        },\n        {\n          field: 'last_activity_at',\n          key: 'last_activity_at',\n          sortBy: this.sortConfig.last_activity_at || '',\n          title: this.$t('CONTACTS_PAGE.LIST.TABLE_HEADER.LAST_ACTIVITY'),\n          align: this.isRTLView ? 'right' : 'left',\n        },\n        {\n          field: 'created_at',\n          key: 'created_at',\n          sortBy: this.sortConfig.created_at || '',\n          title: this.$t('CONTACTS_PAGE.LIST.TABLE_HEADER.CREATED_AT'),\n          align: this.isRTLView ? 'right' : 'left',\n        },\n      ];\n    },\n  },\n  watch: {\n    sortOrder() {\n      this.setSortConfig();\n    },\n    sortParam() {\n      this.setSortConfig();\n    },\n  },\n  mounted() {\n    this.setSortConfig();\n  },\n  methods: {\n    setSortConfig() {\n      this.sortConfig = { [this.sortParam]: this.sortOrder };\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.contacts-table-wrap::v-deep {\n  .ve-table {\n    @apply pb-8;\n  }\n  .row--user-block {\n    @apply items-center flex text-left;\n\n    .user-block {\n      @apply items-start flex flex-col my-0 mx-2;\n    }\n\n    .user-name {\n      @apply text-sm font-medium m-0 capitalize;\n    }\n\n    .view-details--button {\n      @apply text-slate-600 dark:text-slate-200;\n    }\n\n    .user-email {\n      @apply m-0;\n    }\n  }\n\n  .ve-table-header-th {\n    padding: var(--space-small) var(--space-two) !important;\n  }\n\n  .ve-table-body-td {\n    padding: var(--space-small) var(--space-two) !important;\n  }\n\n  .ve-table-header-th {\n    font-size: var(--font-size-mini) !important;\n  }\n  .ve-table-sort {\n    @apply -top-1;\n  }\n}\n\n.cell--social-profiles {\n  a {\n    @apply text-slate-300 dark:text-slate-400 text-lg min-w-[2rem] text-center;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactsTable.vue?vue&type=template&id=508dfcdc&scoped=true&\"\nimport script from \"./ContactsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactsTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContactsTable.vue?vue&type=style&index=0&id=508dfcdc&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"508dfcdc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"contacts-table-wrap bg-white dark:bg-slate-900 flex-1 h-full overflow-hidden -mt-1\"},[_c('ve-table',{attrs:{\"fixed-header\":true,\"max-height\":\"calc(100vh - 7.125rem)\",\"scroll-width\":\"187rem\",\"columns\":_vm.columns,\"table-data\":_vm.tableData,\"border-around\":false,\"sort-option\":_vm.sortOption}}),_vm._v(\" \"),(_vm.showSearchEmptyState)?_c('empty-state',{attrs:{\"title\":_vm.$t('CONTACTS_PAGE.LIST.404')}}):(!_vm.isLoading && !_vm.contacts.length)?_c('empty-state',{attrs:{\"title\":_vm.$t('CONTACTS_PAGE.LIST.NO_CONTACTS')}}):_vm._e(),_vm._v(\" \"),(_vm.isLoading)?_c('div',{staticClass:\"items-center flex text-base justify-center\"},[_c('spinner'),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$t('CONTACTS_PAGE.LIST.LOADING_MESSAGE')))])],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <woot-modal :show.sync=\"show\" :on-close=\"onCancel\" modal-type=\"right-aligned\">\n    <div class=\"h-auto overflow-auto flex flex-col\">\n      <woot-modal-header\n        :header-title=\"$t('CREATE_CONTACT.TITLE')\"\n        :header-content=\"$t('CREATE_CONTACT.DESC')\"\n      />\n      <contact-form\n        :in-progress=\"uiFlags.isCreating\"\n        :on-submit=\"onSubmit\"\n        @success=\"onSuccess\"\n        @cancel=\"onCancel\"\n      />\n    </div>\n  </woot-modal>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport ContactForm from './ContactForm.vue';\n\nexport default {\n  components: {\n    ContactForm,\n  },\n  props: {\n    show: {\n      type: Boolean,\n      default: false,\n    },\n    contact: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  computed: {\n    ...mapGetters({\n      uiFlags: 'contacts/getUIFlags',\n    }),\n  },\n\n  methods: {\n    onCancel() {\n      this.$emit('cancel');\n    },\n    onSuccess() {\n      this.$emit('cancel');\n    },\n    async onSubmit(contactItem) {\n      await this.$store.dispatch('contacts/create', contactItem);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateContact.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateContact.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateContact.vue?vue&type=template&id=c1a4b4fe&\"\nimport script from \"./CreateContact.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateContact.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onCancel,\"modal-type\":\"right-aligned\"},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('div',{staticClass:\"h-auto overflow-auto flex flex-col\"},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('CREATE_CONTACT.TITLE'),\"header-content\":_vm.$t('CREATE_CONTACT.DESC')}}),_vm._v(\" \"),_c('contact-form',{attrs:{\"in-progress\":_vm.uiFlags.isCreating,\"on-submit\":_vm.onSubmit},on:{\"success\":_vm.onSuccess,\"cancel\":_vm.onCancel}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <modal :show.sync=\"show\" :on-close=\"onClose\">\n    <div class=\"h-auto overflow-auto flex flex-col\">\n      <woot-modal-header :header-title=\"$t('IMPORT_CONTACTS.TITLE')\">\n        <p>\n          {{ $t('IMPORT_CONTACTS.DESC') }}\n          <a :href=\"csvUrl\" download=\"import-contacts-sample\">{{\n            $t('IMPORT_CONTACTS.DOWNLOAD_LABEL')\n          }}</a>\n        </p>\n      </woot-modal-header>\n      <div class=\"flex flex-col p-8\">\n        <div class=\"w-full\">\n          <label>\n            <span>{{ $t('IMPORT_CONTACTS.FORM.LABEL') }}</span>\n            <input\n              id=\"file\"\n              ref=\"file\"\n              type=\"file\"\n              accept=\"text/csv\"\n              @change=\"handleFileUpload\"\n            />\n          </label>\n        </div>\n        <div class=\"flex flex-row justify-end gap-2 py-2 px-0 w-full\">\n          <div class=\"w-full\">\n            <woot-button\n              :disabled=\"uiFlags.isCreating || !file\"\n              :loading=\"uiFlags.isCreating\"\n              @click=\"uploadFile\"\n            >\n              {{ $t('IMPORT_CONTACTS.FORM.SUBMIT') }}\n            </woot-button>\n            <button class=\"button clear\" @click.prevent=\"onClose\">\n              {{ $t('IMPORT_CONTACTS.FORM.CANCEL') }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </modal>\n</template>\n\n<script>\nimport Modal from '../../../../components/Modal.vue';\nimport { mapGetters } from 'vuex';\nimport alertMixin from 'shared/mixins/alertMixin';\nimport { CONTACTS_EVENTS } from '../../../../helper/AnalyticsHelper/events';\n\nexport default {\n  components: {\n    Modal,\n  },\n  mixins: [alertMixin],\n  props: {\n    onClose: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      show: true,\n      file: '',\n    };\n  },\n  computed: {\n    ...mapGetters({\n      uiFlags: 'contacts/getUIFlags',\n    }),\n    csvUrl() {\n      return '/downloads/import-contacts-sample.csv';\n    },\n  },\n  mounted() {\n    this.$track(CONTACTS_EVENTS.IMPORT_MODAL_OPEN);\n  },\n  methods: {\n    async uploadFile() {\n      try {\n        if (!this.file) return;\n        await this.$store.dispatch('contacts/import', this.file);\n        this.onClose();\n        this.showAlert(this.$t('IMPORT_CONTACTS.SUCCESS_MESSAGE'));\n        this.$track(CONTACTS_EVENTS.IMPORT_SUCCESS);\n      } catch (error) {\n        this.showAlert(\n          error.message || this.$t('IMPORT_CONTACTS.ERROR_MESSAGE')\n        );\n        this.$track(CONTACTS_EVENTS.IMPORT_FAILURE);\n      }\n    },\n    handleFileUpload() {\n      this.file = this.$refs.file.files[0];\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportContacts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportContacts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportContacts.vue?vue&type=template&id=3f3ba472&\"\nimport script from \"./ImportContacts.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportContacts.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onClose},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('div',{staticClass:\"h-auto overflow-auto flex flex-col\"},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('IMPORT_CONTACTS.TITLE')}},[_c('p',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('IMPORT_CONTACTS.DESC'))+\"\\n        \"),_c('a',{attrs:{\"href\":_vm.csvUrl,\"download\":\"import-contacts-sample\"}},[_vm._v(_vm._s(_vm.$t('IMPORT_CONTACTS.DOWNLOAD_LABEL')))])])]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col p-8\"},[_c('div',{staticClass:\"w-full\"},[_c('label',[_c('span',[_vm._v(_vm._s(_vm.$t('IMPORT_CONTACTS.FORM.LABEL')))]),_vm._v(\" \"),_c('input',{ref:\"file\",attrs:{\"id\":\"file\",\"type\":\"file\",\"accept\":\"text/csv\"},on:{\"change\":_vm.handleFileUpload}})])]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row justify-end gap-2 py-2 px-0 w-full\"},[_c('div',{staticClass:\"w-full\"},[_c('woot-button',{attrs:{\"disabled\":_vm.uiFlags.isCreating || !_vm.file,\"loading\":_vm.uiFlags.isCreating},on:{\"click\":_vm.uploadFile}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('IMPORT_CONTACTS.FORM.SUBMIT'))+\"\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('IMPORT_CONTACTS.FORM.CANCEL'))+\"\\n          \")])],1)])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {\n  OPERATOR_TYPES_1,\n  OPERATOR_TYPES_3,\n  OPERATOR_TYPES_5,\n} from 'dashboard/components/widgets/FilterInput/FilterOperatorTypes.js';\nconst filterTypes = [\n  {\n    attributeKey: 'name',\n    attributeI18nKey: 'NAME',\n    inputType: 'plain_text',\n    dataType: 'text',\n    filterOperators: OPERATOR_TYPES_1,\n    attribute_type: 'standard',\n  },\n  {\n    attributeKey: 'email',\n    attributeI18nKey: 'EMAIL',\n    inputType: 'plain_text',\n    dataType: 'text',\n    filterOperators: OPERATOR_TYPES_3,\n    attribute_type: 'standard',\n  },\n  {\n    attributeKey: 'phone_number',\n    attributeI18nKey: 'PHONE_NUMBER',\n    inputType: 'plain_text',\n    dataType: 'text',\n    filterOperators: OPERATOR_TYPES_3,\n    attribute_type: 'standard',\n  },\n  {\n    attributeKey: 'identifier',\n    attributeI18nKey: 'IDENTIFIER',\n    inputType: 'plain_text',\n    dataType: 'number',\n    filterOperators: OPERATOR_TYPES_1,\n    attribute_type: 'standard',\n  },\n  {\n    attributeKey: 'country_code',\n    attributeI18nKey: 'COUNTRY',\n    inputType: 'search_select',\n    dataType: 'number',\n    filterOperators: OPERATOR_TYPES_1,\n    attribute_type: 'standard',\n  },\n  {\n    attributeKey: 'city',\n    attributeI18nKey: 'CITY',\n    inputType: 'plain_text',\n    dataType: 'Number',\n    filterOperators: OPERATOR_TYPES_3,\n    attribute_type: 'standard',\n  },\n  {\n    attributeKey: 'created_at',\n    attributeI18nKey: 'CREATED_AT',\n    inputType: 'date',\n    dataType: 'text',\n    filterOperators: OPERATOR_TYPES_5,\n    attributeModel: 'standard',\n  },\n  {\n    attributeKey: 'last_activity_at',\n    attributeI18nKey: 'LAST_ACTIVITY',\n    inputType: 'date',\n    dataType: 'text',\n    filterOperators: OPERATOR_TYPES_5,\n    attributeModel: 'standard',\n  },\n  {\n    attributeKey: 'referer',\n    attributeI18nKey: 'REFERER_LINK',\n    inputType: 'plain_text',\n    dataType: 'text',\n    filterOperators: OPERATOR_TYPES_5,\n    attributeModel: 'standard',\n  },\n];\n\nexport const filterAttributeGroups = [\n  {\n    name: 'Standard Filters',\n    i18nGroup: 'STANDARD_FILTERS',\n    attributes: [\n      {\n        key: 'name',\n        i18nKey: 'NAME',\n      },\n      {\n        key: 'email',\n        i18nKey: 'EMAIL',\n      },\n      {\n        key: 'phone_number',\n        i18nKey: 'PHONE_NUMBER',\n      },\n      {\n        key: 'identifier',\n        i18nKey: 'IDENTIFIER',\n      },\n      {\n        key: 'country_code',\n        i18nKey: 'COUNTRY',\n      },\n      {\n        key: 'city',\n        i18nKey: 'CITY',\n      },\n      {\n        key: 'created_at',\n        i18nKey: 'CREATED_AT',\n      },\n      {\n        key: 'last_activity_at',\n        i18nKey: 'LAST_ACTIVITY',\n      },\n    ],\n  },\n];\n\nexport default filterTypes;\n","<template>\n  <div>\n    <woot-modal-header :header-title=\"filterModalHeaderTitle\">\n      <p class=\"text-slate-600 dark:text-slate-200\">\n        {{ filterModalSubTitle }}\n      </p>\n    </woot-modal-header>\n    <div class=\"p-8\">\n      <div v-if=\"isSegmentsView\">\n        <label class=\"input-label\" :class=\"{ error: !activeSegmentNewName }\">\n          {{ $t('CONTACTS_FILTER.SEGMENT_LABEL') }}\n          <input\n            v-model=\"activeSegmentNewName\"\n            type=\"text\"\n            class=\"folder-input border-slate-75 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100\"\n          />\n          <span v-if=\"!activeSegmentNewName\" class=\"message\">\n            {{ $t('CONTACTS_FILTER.EMPTY_VALUE_ERROR') }}\n          </span>\n        </label>\n        <label class=\"input-label\">\n          {{ $t('CONTACTS_FILTER.SEGMENT_QUERY_LABEL') }}\n        </label>\n      </div>\n      <div\n        class=\"p-4 rounded-lg bg-slate-25 dark:bg-slate-900 border border-solid border-slate-50 dark:border-slate-700/50 mb-4\"\n      >\n        <filter-input-box\n          v-for=\"(filter, i) in appliedFilters\"\n          :key=\"i\"\n          v-model=\"appliedFilters[i]\"\n          :filter-groups=\"filterGroups\"\n          :grouped-filters=\"true\"\n          :input-type=\"\n            getInputType(\n              appliedFilters[i].attribute_key,\n              appliedFilters[i].filter_operator\n            )\n          \"\n          :operators=\"getOperators(appliedFilters[i].attribute_key)\"\n          :dropdown-values=\"getDropdownValues(appliedFilters[i].attribute_key)\"\n          :show-query-operator=\"i !== appliedFilters.length - 1\"\n          :show-user-input=\"showUserInput(appliedFilters[i].filter_operator)\"\n          :v=\"$v.appliedFilters.$each[i]\"\n          @resetFilter=\"resetFilter(i, appliedFilters[i])\"\n          @removeFilter=\"removeFilter(i)\"\n        />\n        <div class=\"mt-4\">\n          <woot-button\n            icon=\"add\"\n            color-scheme=\"success\"\n            variant=\"smooth\"\n            size=\"small\"\n            @click=\"appendNewFilter\"\n          >\n            {{ $t('CONTACTS_FILTER.ADD_NEW_FILTER') }}\n          </woot-button>\n          <woot-button\n            v-if=\"hasAppliedFilters && !isSegmentsView\"\n            icon=\"subtract\"\n            color-scheme=\"alert\"\n            variant=\"smooth\"\n            size=\"small\"\n            @click=\"clearFilters\"\n          >\n            {{ $t('CONTACTS_FILTER.CLEAR_ALL_FILTERS') }}\n          </woot-button>\n        </div>\n      </div>\n      <div class=\"w-full\">\n        <div class=\"flex flex-row justify-end gap-2 py-2 px-0 w-full\">\n          <woot-button class=\"button clear\" @click.prevent=\"onClose\">\n            {{ $t('CONTACTS_FILTER.CANCEL_BUTTON_LABEL') }}\n          </woot-button>\n          <woot-button\n            v-if=\"isSegmentsView\"\n            :disabled=\"!activeSegmentNewName\"\n            @click=\"updateSegment\"\n          >\n            {{ $t('CONTACTS_FILTER.UPDATE_BUTTON_LABEL') }}\n          </woot-button>\n          <woot-button v-else @click=\"submitFilterQuery\">\n            {{ $t('CONTACTS_FILTER.SUBMIT_BUTTON_LABEL') }}\n          </woot-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport alertMixin from 'shared/mixins/alertMixin';\nimport { required } from 'vuelidate/lib/validators';\nimport FilterInputBox from '../../../../components/widgets/FilterInput/Index.vue';\nimport countries from 'shared/constants/countries.js';\nimport { mapGetters } from 'vuex';\nimport { filterAttributeGroups } from '../contactFilterItems';\nimport filterMixin from 'shared/mixins/filterMixin';\nimport * as OPERATORS from 'dashboard/components/widgets/FilterInput/FilterOperatorTypes.js';\nimport { CONTACTS_EVENTS } from '../../../../helper/AnalyticsHelper/events';\nexport default {\n  components: {\n    FilterInputBox,\n  },\n  mixins: [alertMixin, filterMixin],\n  props: {\n    onClose: {\n      type: Function,\n      default: () => {},\n    },\n    initialFilterTypes: {\n      type: Array,\n      default: () => [],\n    },\n    initialAppliedFilters: {\n      type: Array,\n      default: () => [],\n    },\n    isSegmentsView: {\n      type: Boolean,\n      default: false,\n    },\n    activeSegmentName: {\n      type: String,\n      default: '',\n    },\n  },\n  validations: {\n    appliedFilters: {\n      required,\n      $each: {\n        values: {\n          required,\n          ensureBetween0to999(value, prop) {\n            if (prop.filter_operator === 'days_before') {\n              return parseInt(value, 10) > 0 && parseInt(value, 10) < 999;\n            }\n            return true;\n          },\n        },\n      },\n    },\n  },\n  data() {\n    return {\n      show: true,\n      appliedFilters: this.initialAppliedFilters,\n      activeSegmentNewName: this.activeSegmentName,\n      filterTypes: this.initialFilterTypes,\n      filterGroups: [],\n      allCustomAttributes: [],\n      filterAttributeGroups,\n      attributeModel: 'contact_attribute',\n      filtersFori18n: 'CONTACTS_FILTER',\n    };\n  },\n  computed: {\n    ...mapGetters({\n      getAppliedContactFilters: 'contacts/getAppliedContactFilters',\n    }),\n    hasAppliedFilters() {\n      return this.getAppliedContactFilters.length;\n    },\n    filterModalHeaderTitle() {\n      return !this.isSegmentsView\n        ? this.$t('CONTACTS_FILTER.TITLE')\n        : this.$t('CONTACTS_FILTER.EDIT_CUSTOM_SEGMENT');\n    },\n    filterModalSubTitle() {\n      return !this.isSegmentsView\n        ? this.$t('CONTACTS_FILTER.SUBTITLE')\n        : this.$t('CONTACTS_FILTER.CUSTOM_VIEWS_SUBTITLE');\n    },\n  },\n  mounted() {\n    this.setFilterAttributes();\n    if (this.getAppliedContactFilters.length) {\n      this.appliedFilters = [...this.getAppliedContactFilters];\n    } else if (!this.isSegmentsView) {\n      this.appliedFilters.push({\n        attribute_key: 'name',\n        filter_operator: 'equal_to',\n        values: '',\n        query_operator: 'and',\n        attribute_model: 'standard',\n      });\n    }\n  },\n  methods: {\n    getOperatorTypes(key) {\n      switch (key) {\n        case 'list':\n          return OPERATORS.OPERATOR_TYPES_1;\n        case 'text':\n          return OPERATORS.OPERATOR_TYPES_3;\n        case 'number':\n          return OPERATORS.OPERATOR_TYPES_1;\n        case 'link':\n          return OPERATORS.OPERATOR_TYPES_1;\n        case 'date':\n          return OPERATORS.OPERATOR_TYPES_4;\n        case 'checkbox':\n          return OPERATORS.OPERATOR_TYPES_1;\n        default:\n          return OPERATORS.OPERATOR_TYPES_1;\n      }\n    },\n    customAttributeInputType(key) {\n      switch (key) {\n        case 'date':\n          return 'date';\n        case 'text':\n          return 'plain_text';\n        case 'list':\n          return 'search_select';\n        case 'checkbox':\n          return 'search_select';\n        default:\n          return 'plain_text';\n      }\n    },\n    getAttributeModel(key) {\n      const type = this.filterTypes.find(filter => filter.attributeKey === key);\n      return type.attributeModel;\n    },\n    getInputType(key, operator) {\n      if (key === 'created_at' || key === 'last_activity_at')\n        if (operator === 'days_before') return 'plain_text';\n      const type = this.filterTypes.find(filter => filter.attributeKey === key);\n      return type?.inputType;\n    },\n    getOperators(key) {\n      const type = this.filterTypes.find(filter => filter.attributeKey === key);\n      return type?.filterOperators;\n    },\n    getDropdownValues(type) {\n      const allCustomAttributes = this.$store.getters[\n        'attributes/getAttributesByModel'\n      ](this.attributeModel);\n      const isCustomAttributeCheckbox = allCustomAttributes.find(attr => {\n        return (\n          attr.attribute_key === type &&\n          attr.attribute_display_type === 'checkbox'\n        );\n      });\n      if (isCustomAttributeCheckbox) {\n        return [\n          {\n            id: true,\n            name: this.$t('FILTER.ATTRIBUTE_LABELS.TRUE'),\n          },\n          {\n            id: false,\n            name: this.$t('FILTER.ATTRIBUTE_LABELS.FALSE'),\n          },\n        ];\n      }\n\n      const isCustomAttributeList = allCustomAttributes.find(attr => {\n        return (\n          attr.attribute_key === type && attr.attribute_display_type === 'list'\n        );\n      });\n\n      if (isCustomAttributeList) {\n        return allCustomAttributes\n          .find(attr => attr.attribute_key === type)\n          .attribute_values.map(item => {\n            return {\n              id: item,\n              name: item,\n            };\n          });\n      }\n      switch (type) {\n        case 'country_code':\n          return countries;\n        default:\n          return undefined;\n      }\n    },\n    appendNewFilter() {\n      if (this.isSegmentsView) {\n        this.setQueryOperatorOnLastQuery();\n      } else {\n        this.appliedFilters.push({\n          attribute_key: 'name',\n          filter_operator: 'equal_to',\n          values: '',\n          query_operator: 'and',\n        });\n      }\n    },\n    setQueryOperatorOnLastQuery() {\n      const lastItemIndex = this.appliedFilters.length - 1;\n      this.appliedFilters[lastItemIndex] = {\n        ...this.appliedFilters[lastItemIndex],\n        query_operator: 'and',\n      };\n      this.$nextTick(() => {\n        this.appliedFilters.push({\n          attribute_key: 'name',\n          filter_operator: 'equal_to',\n          values: '',\n          query_operator: 'and',\n        });\n      });\n    },\n    removeFilter(index) {\n      if (this.appliedFilters.length <= 1) {\n        this.showAlert(this.$t('CONTACTS_FILTER.FILTER_DELETE_ERROR'));\n      } else {\n        this.appliedFilters.splice(index, 1);\n      }\n    },\n    submitFilterQuery() {\n      this.$v.$touch();\n      if (this.$v.$invalid) return;\n      this.$store.dispatch(\n        'contacts/setContactFilters',\n        JSON.parse(JSON.stringify(this.appliedFilters))\n      );\n      this.$emit('applyFilter', this.appliedFilters);\n      this.$track(CONTACTS_EVENTS.APPLY_FILTER, {\n        applied_filters: this.appliedFilters.map(filter => ({\n          key: filter.attribute_key,\n          operator: filter.filter_operator,\n          query_operator: filter.query_operator,\n        })),\n      });\n    },\n    updateSegment() {\n      this.$emit(\n        'updateSegment',\n        this.appliedFilters,\n        this.activeSegmentNewName\n      );\n    },\n    resetFilter(index, currentFilter) {\n      this.appliedFilters[index].filter_operator = this.filterTypes.find(\n        filter => filter.attributeKey === currentFilter.attribute_key\n      ).filterOperators[0].value;\n      this.appliedFilters[index].values = '';\n    },\n    showUserInput(operatorType) {\n      if (operatorType === 'is_present' || operatorType === 'is_not_present')\n        return false;\n      return true;\n    },\n    clearFilters() {\n      this.$emit('clearFilters');\n      this.onClose();\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.folder-input {\n  @apply w-[50%];\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactsAdvancedFilters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactsAdvancedFilters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactsAdvancedFilters.vue?vue&type=template&id=e14852b8&scoped=true&\"\nimport script from \"./ContactsAdvancedFilters.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactsAdvancedFilters.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContactsAdvancedFilters.vue?vue&type=style&index=0&id=e14852b8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e14852b8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('woot-modal-header',{attrs:{\"header-title\":_vm.filterModalHeaderTitle}},[_c('p',{staticClass:\"text-slate-600 dark:text-slate-200\"},[_vm._v(\"\\n      \"+_vm._s(_vm.filterModalSubTitle)+\"\\n    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"p-8\"},[(_vm.isSegmentsView)?_c('div',[_c('label',{staticClass:\"input-label\",class:{ error: !_vm.activeSegmentNewName }},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACTS_FILTER.SEGMENT_LABEL'))+\"\\n        \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.activeSegmentNewName),expression:\"activeSegmentNewName\"}],staticClass:\"folder-input border-slate-75 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.activeSegmentNewName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.activeSegmentNewName=$event.target.value}}}),_vm._v(\" \"),(!_vm.activeSegmentNewName)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CONTACTS_FILTER.EMPTY_VALUE_ERROR'))+\"\\n        \")]):_vm._e()]),_vm._v(\" \"),_c('label',{staticClass:\"input-label\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACTS_FILTER.SEGMENT_QUERY_LABEL'))+\"\\n      \")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"p-4 rounded-lg bg-slate-25 dark:bg-slate-900 border border-solid border-slate-50 dark:border-slate-700/50 mb-4\"},[_vm._l((_vm.appliedFilters),function(filter,i){return _c('filter-input-box',{key:i,attrs:{\"filter-groups\":_vm.filterGroups,\"grouped-filters\":true,\"input-type\":_vm.getInputType(\n            _vm.appliedFilters[i].attribute_key,\n            _vm.appliedFilters[i].filter_operator\n          ),\"operators\":_vm.getOperators(_vm.appliedFilters[i].attribute_key),\"dropdown-values\":_vm.getDropdownValues(_vm.appliedFilters[i].attribute_key),\"show-query-operator\":i !== _vm.appliedFilters.length - 1,\"show-user-input\":_vm.showUserInput(_vm.appliedFilters[i].filter_operator),\"v\":_vm.$v.appliedFilters.$each[i]},on:{\"resetFilter\":function($event){return _vm.resetFilter(i, _vm.appliedFilters[i])},\"removeFilter\":function($event){return _vm.removeFilter(i)}},model:{value:(_vm.appliedFilters[i]),callback:function ($$v) {_vm.$set(_vm.appliedFilters, i, $$v)},expression:\"appliedFilters[i]\"}})}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('woot-button',{attrs:{\"icon\":\"add\",\"color-scheme\":\"success\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.appendNewFilter}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CONTACTS_FILTER.ADD_NEW_FILTER'))+\"\\n        \")]),_vm._v(\" \"),(_vm.hasAppliedFilters && !_vm.isSegmentsView)?_c('woot-button',{attrs:{\"icon\":\"subtract\",\"color-scheme\":\"alert\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.clearFilters}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CONTACTS_FILTER.CLEAR_ALL_FILTERS'))+\"\\n        \")]):_vm._e()],1)],2),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"flex flex-row justify-end gap-2 py-2 px-0 w-full\"},[_c('woot-button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CONTACTS_FILTER.CANCEL_BUTTON_LABEL'))+\"\\n        \")]),_vm._v(\" \"),(_vm.isSegmentsView)?_c('woot-button',{attrs:{\"disabled\":!_vm.activeSegmentNewName},on:{\"click\":_vm.updateSegment}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CONTACTS_FILTER.UPDATE_BUTTON_LABEL'))+\"\\n        \")]):_c('woot-button',{on:{\"click\":_vm.submitFilterQuery}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CONTACTS_FILTER.SUBMIT_BUTTON_LABEL'))+\"\\n        \")])],1)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"w-full flex flex-row\">\n    <div class=\"flex flex-col h-full\" :class=\"wrapClass\">\n      <contacts-header\n        :search-query=\"searchQuery\"\n        :header-title=\"pageTitle\"\n        :segments-id=\"segmentsId\"\n        this-selected-contact-id=\"\"\n        @on-input-search=\"onInputSearch\"\n        @on-toggle-create=\"onToggleCreate\"\n        @on-toggle-filter=\"onToggleFilters\"\n        @on-search-submit=\"onSearchSubmit\"\n        @on-toggle-import=\"onToggleImport\"\n        @on-export-submit=\"onExportSubmit\"\n        @on-toggle-save-filter=\"onToggleSaveFilters\"\n        @on-toggle-delete-filter=\"onToggleDeleteFilters\"\n        @on-toggle-edit-filter=\"onToggleFilters\"\n      />\n      <contacts-table\n        :contacts=\"records\"\n        :show-search-empty-state=\"showEmptySearchResult\"\n        :is-loading=\"uiFlags.isFetching\"\n        :on-click-contact=\"openContactInfoPanel\"\n        :active-contact-id=\"selectedContactId\"\n        @on-sort-change=\"onSortChange\"\n      />\n      <table-footer\n        :current-page=\"Number(meta.currentPage)\"\n        :total-count=\"meta.count\"\n        :page-size=\"15\"\n        @page-change=\"onPageChange\"\n      />\n    </div>\n\n    <add-custom-views\n      v-if=\"showAddSegmentsModal\"\n      :custom-views-query=\"segmentsQuery\"\n      :filter-type=\"filterType\"\n      :open-last-saved-item=\"openSavedItemInSegment\"\n      @close=\"onCloseAddSegmentsModal\"\n    />\n    <delete-custom-views\n      v-if=\"showDeleteSegmentsModal\"\n      :show-delete-popup.sync=\"showDeleteSegmentsModal\"\n      :active-custom-view=\"activeSegment\"\n      :custom-views-id=\"segmentsId\"\n      :active-filter-type=\"filterType\"\n      :open-last-item-after-delete=\"openLastItemAfterDeleteInSegment\"\n      @close=\"onCloseDeleteSegmentsModal\"\n    />\n\n    <contact-info-panel\n      v-if=\"showContactViewPane\"\n      :contact=\"selectedContact\"\n      :on-close=\"closeContactInfoPanel\"\n    />\n    <create-contact :show=\"showCreateModal\" @cancel=\"onToggleCreate\" />\n    <woot-modal :show.sync=\"showImportModal\" :on-close=\"onToggleImport\">\n      <import-contacts v-if=\"showImportModal\" :on-close=\"onToggleImport\" />\n    </woot-modal>\n    <woot-modal\n      :show.sync=\"showFiltersModal\"\n      :on-close=\"closeAdvanceFiltersModal\"\n      size=\"medium\"\n    >\n      <contacts-advanced-filters\n        v-if=\"showFiltersModal\"\n        :on-close=\"closeAdvanceFiltersModal\"\n        :initial-filter-types=\"contactFilterItems\"\n        :initial-applied-filters=\"appliedFilter\"\n        :active-segment-name=\"activeSegmentName\"\n        :is-segments-view=\"hasActiveSegments\"\n        @applyFilter=\"onApplyFilter\"\n        @updateSegment=\"onUpdateSegment\"\n        @clearFilters=\"clearFilters\"\n      />\n    </woot-modal>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nimport ContactsHeader from './Header.vue';\nimport ContactsTable from './ContactsTable.vue';\nimport ContactInfoPanel from './ContactInfoPanel.vue';\nimport CreateContact from 'dashboard/routes/dashboard/conversation/contact/CreateContact.vue';\nimport TableFooter from 'dashboard/components/widgets/TableFooter.vue';\nimport ImportContacts from './ImportContacts.vue';\nimport ContactsAdvancedFilters from './ContactsAdvancedFilters.vue';\nimport contactFilterItems from '../contactFilterItems';\nimport filterQueryGenerator from '../../../../helper/filterQueryGenerator';\nimport AddCustomViews from 'dashboard/routes/dashboard/customviews/AddCustomViews.vue';\nimport DeleteCustomViews from 'dashboard/routes/dashboard/customviews/DeleteCustomViews.vue';\nimport { CONTACTS_EVENTS } from '../../../../helper/AnalyticsHelper/events';\nimport alertMixin from 'shared/mixins/alertMixin';\nimport countries from 'shared/constants/countries.js';\nimport { generateValuesForEditCustomViews } from 'dashboard/helper/customViewsHelper';\n\nconst DEFAULT_PAGE = 1;\nconst FILTER_TYPE_CONTACT = 1;\n\nexport default {\n  components: {\n    ContactsHeader,\n    ContactsTable,\n    TableFooter,\n    ContactInfoPanel,\n    CreateContact,\n    ImportContacts,\n    ContactsAdvancedFilters,\n    AddCustomViews,\n    DeleteCustomViews,\n  },\n  mixins: [alertMixin],\n  props: {\n    label: { type: String, default: '' },\n    segmentsId: {\n      type: [String, Number],\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      searchQuery: '',\n      showCreateModal: false,\n      showImportModal: false,\n      selectedContactId: '',\n      sortConfig: { last_activity_at: 'desc' },\n      showFiltersModal: false,\n      contactFilterItems: contactFilterItems.map(filter => ({\n        ...filter,\n        attributeName: this.$t(\n          `CONTACTS_FILTER.ATTRIBUTES.${filter.attributeI18nKey}`\n        ),\n      })),\n      segmentsQuery: {},\n      filterType: FILTER_TYPE_CONTACT,\n      showAddSegmentsModal: false,\n      showDeleteSegmentsModal: false,\n      appliedFilter: [],\n    };\n  },\n  computed: {\n    ...mapGetters({\n      records: 'contacts/getContacts',\n      uiFlags: 'contacts/getUIFlags',\n      meta: 'contacts/getMeta',\n      segments: 'customViews/getCustomViews',\n      getAppliedContactFilters: 'contacts/getAppliedContactFilters',\n    }),\n    showEmptySearchResult() {\n      const hasEmptyResults = !!this.searchQuery && this.records.length === 0;\n      return hasEmptyResults;\n    },\n    hasAppliedFilters() {\n      return this.getAppliedContactFilters.length;\n    },\n    hasActiveSegments() {\n      return this.activeSegment && this.segmentsId !== 0;\n    },\n    isContactAndLabelDashboard() {\n      return (\n        this.$route.name === 'contacts_dashboard' ||\n        this.$route.name === 'contacts_labels_dashboard'\n      );\n    },\n    pageTitle() {\n      if (this.hasActiveSegments) {\n        return this.activeSegment.name;\n      }\n      if (this.label) {\n        return `#${this.label}`;\n      }\n      return this.$t('CONTACTS_PAGE.HEADER');\n    },\n    selectedContact() {\n      if (this.selectedContactId) {\n        const contact = this.records.find(\n          item => this.selectedContactId === item.id\n        );\n        return contact;\n      }\n      return undefined;\n    },\n    showContactViewPane() {\n      return this.selectedContactId !== '';\n    },\n    wrapClass() {\n      return this.showContactViewPane ? 'w-[75%]' : 'w-full';\n    },\n    pageParameter() {\n      const selectedPageNumber = Number(this.$route.query?.page);\n      return !Number.isNaN(selectedPageNumber) &&\n        selectedPageNumber >= DEFAULT_PAGE\n        ? selectedPageNumber\n        : DEFAULT_PAGE;\n    },\n    activeSegment() {\n      if (this.segmentsId) {\n        const [firstValue] = this.segments.filter(\n          view => view.id === Number(this.segmentsId)\n        );\n        return firstValue;\n      }\n      return undefined;\n    },\n    activeSegmentName() {\n      return this.activeSegment?.name;\n    },\n  },\n  watch: {\n    label() {\n      this.fetchContacts(DEFAULT_PAGE);\n      if (this.hasAppliedFilters) {\n        this.clearFilters();\n      }\n    },\n    activeSegment() {\n      if (this.hasActiveSegments) {\n        const payload = this.activeSegment.query;\n        this.fetchSavedFilteredContact(payload, DEFAULT_PAGE);\n      }\n      if (this.hasAppliedFilters && this.$route.name === 'contacts_dashboard') {\n        this.fetchFilteredContacts(DEFAULT_PAGE);\n      } else {\n        this.fetchContacts(DEFAULT_PAGE);\n      }\n    },\n  },\n  mounted() {\n    this.fetchContacts(this.pageParameter);\n  },\n  methods: {\n    updatePageParam(page) {\n      window.history.pushState({}, null, `${this.$route.path}?page=${page}`);\n    },\n    getSortAttribute() {\n      let sortAttr = Object.keys(this.sortConfig).reduce((acc, sortKey) => {\n        const sortOrder = this.sortConfig[sortKey];\n        if (sortOrder) {\n          const sortOrderSign = sortOrder === 'asc' ? '' : '-';\n          return `${sortOrderSign}${sortKey}`;\n        }\n        return acc;\n      }, '');\n      if (!sortAttr) {\n        this.sortConfig = { last_activity_at: 'desc' };\n        sortAttr = '-last_activity_at';\n      }\n      return sortAttr;\n    },\n    fetchContacts(page) {\n      if (this.isContactAndLabelDashboard) {\n        this.updatePageParam(page);\n        let value = '';\n        if (this.searchQuery.charAt(0) === '+') {\n          value = this.searchQuery.substring(1);\n        } else {\n          value = this.searchQuery;\n        }\n        const requestParams = {\n          page,\n          sortAttr: this.getSortAttribute(),\n          label: this.label,\n        };\n        if (!value) {\n          this.$store.dispatch('contacts/get', requestParams);\n        } else {\n          this.$store.dispatch('contacts/search', {\n            search: encodeURIComponent(value),\n            ...requestParams,\n          });\n        }\n      }\n    },\n    fetchSavedFilteredContact(payload, page) {\n      if (this.hasActiveSegments) {\n        this.updatePageParam(page);\n        this.$store.dispatch('contacts/filter', {\n          queryPayload: payload,\n          page,\n        });\n      }\n    },\n    fetchFilteredContacts(page) {\n      if (this.hasAppliedFilters) {\n        const payload = this.segmentsQuery;\n        this.updatePageParam(page);\n        this.$store.dispatch('contacts/filter', {\n          queryPayload: payload,\n          page,\n        });\n      }\n    },\n\n    onInputSearch(event) {\n      const newQuery = event.target.value;\n      const refetchAllContacts = !!this.searchQuery && newQuery === '';\n      this.searchQuery = newQuery;\n      if (refetchAllContacts) {\n        this.fetchContacts(DEFAULT_PAGE);\n      }\n    },\n    onSearchSubmit() {\n      this.selectedContactId = '';\n      if (this.searchQuery) {\n        this.fetchContacts(DEFAULT_PAGE);\n      }\n    },\n    onPageChange(page) {\n      this.selectedContactId = '';\n      if (this.segmentsId !== 0) {\n        const payload = this.activeSegment.query;\n        this.fetchSavedFilteredContact(payload, page);\n      }\n      if (this.hasAppliedFilters) {\n        this.fetchFilteredContacts(page);\n      } else {\n        this.fetchContacts(page);\n      }\n    },\n    openContactInfoPanel(contactId) {\n      this.selectedContactId = contactId;\n      this.showContactInfoPanelPane = true;\n    },\n    closeContactInfoPanel() {\n      this.selectedContactId = '';\n      this.showContactInfoPanelPane = false;\n    },\n    onToggleCreate() {\n      this.showCreateModal = !this.showCreateModal;\n    },\n    onToggleSaveFilters() {\n      this.showAddSegmentsModal = true;\n    },\n    onCloseAddSegmentsModal() {\n      this.showAddSegmentsModal = false;\n    },\n    onToggleDeleteFilters() {\n      this.showDeleteSegmentsModal = true;\n    },\n    onCloseDeleteSegmentsModal() {\n      this.showDeleteSegmentsModal = false;\n    },\n    onToggleImport() {\n      this.showImportModal = !this.showImportModal;\n    },\n    onSortChange(params) {\n      this.sortConfig = params;\n      this.fetchContacts(this.meta.currentPage);\n\n      const sortBy =\n        Object.entries(params).find(pair => Boolean(pair[1])) || [];\n\n      this.$track(CONTACTS_EVENTS.APPLY_SORT, {\n        appliedOn: sortBy[0],\n        order: sortBy[1],\n      });\n    },\n    onToggleFilters() {\n      if (this.hasActiveSegments) {\n        this.initializeSegmentToFilterModal(this.activeSegment);\n      }\n      this.showFiltersModal = true;\n    },\n    closeAdvanceFiltersModal() {\n      this.showFiltersModal = false;\n      this.appliedFilter = [];\n    },\n    onApplyFilter(payload) {\n      this.closeContactInfoPanel();\n      this.segmentsQuery = filterQueryGenerator(payload);\n      this.$store.dispatch('contacts/filter', {\n        queryPayload: filterQueryGenerator(payload),\n      });\n      this.showFiltersModal = false;\n    },\n    onUpdateSegment(payload, segmentName) {\n      const payloadData = {\n        ...this.activeSegment,\n        name: segmentName,\n        query: filterQueryGenerator(payload),\n      };\n      this.$store.dispatch('customViews/update', payloadData);\n      this.closeAdvanceFiltersModal();\n    },\n    clearFilters() {\n      this.$store.dispatch('contacts/clearContactFilters');\n      this.fetchContacts(this.pageParameter);\n    },\n    onExportSubmit() {\n      try {\n        this.$store.dispatch('contacts/export');\n        this.showAlert(this.$t('EXPORT_CONTACTS.SUCCESS_MESSAGE'));\n      } catch (error) {\n        this.showAlert(\n          error.message || this.$t('EXPORT_CONTACTS.ERROR_MESSAGE')\n        );\n      }\n    },\n    setParamsForEditSegmentModal() {\n      // Here we are setting the params for edit segment modal to show the existing values.\n\n      // For custom attributes we get only attribute key.\n      // So we are mapping it to find the input type of the attribute to show in the edit segment modal.\n      const params = {\n        countries: countries,\n        filterTypes: contactFilterItems,\n        allCustomAttributes:\n          this.$store.getters['attributes/getAttributesByModel'](\n            'contact_attribute'\n          ),\n      };\n      return params;\n    },\n    initializeSegmentToFilterModal(activeSegment) {\n      // Here we are setting the params for edit segment modal.\n      //  To show the existing values. when we click on edit segment button.\n\n      // Here we get the query from the active segment.\n      // And we are mapping the query to the actual values.\n      // To show in the edit segment modal by the help of generateValuesForEditCustomViews helper.\n      const query = activeSegment?.query?.payload;\n      if (!Array.isArray(query)) return;\n\n      this.appliedFilter.push(\n        ...query.map(filter => ({\n          attribute_key: filter.attribute_key,\n          attribute_model: filter.attribute_model,\n          filter_operator: filter.filter_operator,\n          values: Array.isArray(filter.values)\n            ? generateValuesForEditCustomViews(\n                filter,\n                this.setParamsForEditSegmentModal()\n              )\n            : [],\n          query_operator: filter.query_operator,\n          custom_attribute_type: filter.custom_attribute_type,\n        }))\n      );\n    },\n    openSavedItemInSegment() {\n      const lastItemInSegments = this.segments[this.segments.length - 1];\n      const lastItemId = lastItemInSegments.id;\n      this.$router.push({\n        name: 'contacts_segments_dashboard',\n        params: { id: lastItemId },\n      });\n    },\n    openLastItemAfterDeleteInSegment() {\n      if (this.segments.length > 0) {\n        this.openSavedItemInSegment();\n      } else {\n        this.$router.push({ name: 'contacts_dashboard' });\n        this.fetchContacts(DEFAULT_PAGE);\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactsView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactsView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactsView.vue?vue&type=template&id=8b78455e&\"\nimport script from \"./ContactsView.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactsView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}