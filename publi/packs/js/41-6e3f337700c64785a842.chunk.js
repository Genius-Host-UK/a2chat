(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{2651:function(t,e,r){},2660:function(t,e,r){},2665:function(t,e,r){"use strict";r(2651)},2674:function(t,e,r){"use strict";r(45);var n={components:{},mixins:[r(1777).a],props:{currentPage:{type:Number,default:1},pageSize:{type:Number,default:25},totalCount:{type:Number,default:0}},computed:{pageFooterIconClass:function(){return this.isRTLView?"margin-right-minus-slab":"margin-left-minus-slab"},isFooterVisible:function(){return this.totalCount&&!(this.firstIndex>this.totalCount)},firstIndex:function(){return this.pageSize*(this.currentPage-1)+1},lastIndex:function(){return Math.min(this.totalCount,this.pageSize*this.currentPage)},searchButtonClass:function(){return""!==this.searchQuery?"show":""},hasLastPage:function(){return!!Math.ceil(this.totalCount/this.pageSize)},hasFirstPage:function(){return 1===this.currentPage},hasNextPage:function(){return this.currentPage===Math.ceil(this.totalCount/this.pageSize)},hasPrevPage:function(){return 1===this.currentPage}},methods:{onNextPage:function(){if(!this.hasNextPage){var t=this.currentPage+1;this.onPageChange(t)}},onPrevPage:function(){if(!this.hasPrevPage){var t=this.currentPage-1;this.onPageChange(t)}},onFirstPage:function(){if(!this.hasFirstPage){this.onPageChange(1)}},onLastPage:function(){if(!this.hasLastPage){var t=Math.ceil(this.totalCount/this.pageSize);this.onPageChange(t)}},onPageChange:function(t){this.$emit("page-change",t)}}},a=(r(2665),r(5)),i=Object(a.a)(n,(function(){var t=this,e=t._self._c;return t.isFooterVisible?e("footer",{staticClass:"bg-white dark:bg-slate-800 h-[60px] border-t border-solid border-slate-75 dark:border-slate-700/50 flex items-center justify-between py-0 px-4"},[e("div",{staticClass:"left-aligned-wrap"},[e("div",{staticClass:"text-xs text-slate-600 dark:text-slate-200"},[e("strong",[t._v(t._s(t.firstIndex))]),t._v("\n      - "),e("strong",[t._v(t._s(t.lastIndex))]),t._v(" of\n      "),e("strong",[t._v(t._s(t.totalCount))]),t._v(" items\n    ")])]),t._v(" "),e("div",{staticClass:"right-aligned-wrap"},[t.totalCount?e("div",{staticClass:"primary button-group pagination-button-group"},[e("woot-button",{attrs:{size:"small",variant:"smooth","color-scheme":"secondary","class-names":"goto-first","is-disabled":t.hasFirstPage},on:{click:t.onFirstPage}},[e("fluent-icon",{attrs:{icon:"chevron-left",size:"18"}}),t._v(" "),e("fluent-icon",{class:t.pageFooterIconClass,attrs:{icon:"chevron-left",size:"18"}})],1),t._v(" "),e("woot-button",{attrs:{size:"small",variant:"smooth","color-scheme":"secondary","is-disabled":t.hasPrevPage},on:{click:t.onPrevPage}},[e("fluent-icon",{attrs:{icon:"chevron-left",size:"18"}})],1),t._v(" "),e("woot-button",{attrs:{size:"small",variant:"smooth","color-scheme":"secondary"},on:{click:function(t){t.preventDefault()}}},[t._v("\n        "+t._s(t.currentPage)+"\n      ")]),t._v(" "),e("woot-button",{attrs:{size:"small",variant:"smooth","color-scheme":"secondary","is-disabled":t.hasNextPage},on:{click:t.onNextPage}},[e("fluent-icon",{attrs:{icon:"chevron-right",size:"18"}})],1),t._v(" "),e("woot-button",{attrs:{size:"small",variant:"smooth","color-scheme":"secondary","class-names":"goto-last","is-disabled":t.hasLastPage},on:{click:t.onLastPage}},[e("fluent-icon",{attrs:{icon:"chevron-right",size:"18"}}),t._v(" "),e("fluent-icon",{class:t.pageFooterIconClass,attrs:{icon:"chevron-right",size:"18"}})],1)],1):t._e()])]):t._e()}),[],!1,null,"0bdf6a88",null);e.a=i.exports},2675:function(t,e,r){"use strict";r(16),r(7),r(21),r(10),r(4),r(8),r(11),r(9),r(12);function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o={props:{value:{type:Object,default:function(){return null}},filterAttributes:{type:Array,default:function(){return[]}},inputType:{type:String,default:"plain_text"},dataType:{type:String,default:"plain_text"},operators:{type:Array,default:function(){return[]}},dropdownValues:{type:Array,default:function(){return[]}},showQueryOperator:{type:Boolean,default:!1},v:{type:Object,default:function(){return null}},showUserInput:{type:Boolean,default:!0},groupedFilters:{type:Boolean,default:!1},filterGroups:{type:Array,default:function(){return[]}},customAttributeType:{type:String,default:""}},computed:{attributeKey:{get:function(){return this.value?this.value.attribute_key:null},set:function(t){var e=this.value||{};this.$emit("input",a(a({},e),{},{attribute_key:t}))}},filterOperator:{get:function(){return this.value?this.value.filter_operator:null},set:function(t){var e=this.value||{};this.$emit("input",a(a({},e),{},{filter_operator:t}))}},values:{get:function(){return this.value?this.value.values:null},set:function(t){var e=this.value||{};this.$emit("input",a(a({},e),{},{values:t}))}},query_operator:{get:function(){return this.value?this.value.query_operator:null},set:function(t){var e=this.value||{};this.$emit("input",a(a({},e),{},{query_operator:t}))}},custom_attribute_type:{get:function(){return this.customAttributeType?this.customAttributeType:""},set:function(){var t=this.value||{};this.$emit("input",a(a({},t),{},{custom_attribute_type:this.customAttributeType}))}}},watch:{customAttributeType:{handler:function(t){this.value.custom_attribute_type="conversation_attribute"===t||"contact_attribute"===t?this.customAttributeType:""},immediate:!0}},methods:{removeFilter:function(){this.$emit("removeFilter")},resetFilter:function(){this.$emit("resetFilter")},getInputErrorClass:function(t,e){return t&&e?"bg-red-50 dark:bg-red-800/50 border-red-100 dark:border-red-700/50":"bg-slate-50 dark:bg-slate-800 border-slate-75 dark:border-slate-700/50"}}},s=(r(2681),r(5)),l=Object(s.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"rounded-md p-2 border border-solid",class:t.getInputErrorClass(t.v.values.$dirty,t.v.values.$error)},[e("div",{staticClass:"flex"},[t.groupedFilters?e("select",{directives:[{name:"model",rawName:"v-model",value:t.attributeKey,expression:"attributeKey"}],staticClass:"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.attributeKey=e.target.multiple?r:r[0]},function(e){return t.resetFilter()}]}},t._l(t.filterGroups,(function(r,n){return e("optgroup",{key:n,attrs:{label:r.name}},t._l(r.attributes,(function(r){return e("option",{key:r.key,domProps:{value:r.key}},[t._v("\n            "+t._s(r.name)+"\n          ")])})),0)})),0):e("select",{directives:[{name:"model",rawName:"v-model",value:t.attributeKey,expression:"attributeKey"}],staticClass:"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.attributeKey=e.target.multiple?r:r[0]},function(e){return t.resetFilter()}]}},t._l(t.filterAttributes,(function(r){return e("option",{key:r.key,attrs:{disabled:r.disabled},domProps:{value:r.key}},[t._v("\n          "+t._s(r.name)+"\n        ")])})),0),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filterOperator,expression:"filterOperator"}],staticClass:"bg-white dark:bg-slate-900 max-w-[20%] mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.filterOperator=e.target.multiple?r:r[0]}}},t._l(t.operators,(function(r,n){return e("option",{key:n,domProps:{value:r.value}},[t._v("\n          "+t._s(t.$t(`FILTER.OPERATOR_LABELS.${r.value}`))+"\n        ")])})),0),t._v(" "),t.showUserInput?e("div",{staticClass:"filter__answer--wrap mr-1 flex-grow"},["multi_select"===t.inputType?e("div",{staticClass:"multiselect-wrap--small"},[e("multiselect",{attrs:{"track-by":"id",label:"name",placeholder:"Select",multiple:!0,"selected-label":"","select-label":t.$t("FORMS.MULTISELECT.ENTER_TO_SELECT"),"deselect-label":"","max-height":160,options:t.dropdownValues,"allow-empty":!1},model:{value:t.values,callback:function(e){t.values=e},expression:"values"}})],1):"search_select"===t.inputType?e("div",{staticClass:"multiselect-wrap--small"},[e("multiselect",{attrs:{"track-by":"id",label:"name",placeholder:"Select","selected-label":"","select-label":t.$t("FORMS.MULTISELECT.ENTER_TO_SELECT"),"deselect-label":"","max-height":160,options:t.dropdownValues,"allow-empty":!1,"option-height":104},model:{value:t.values,callback:function(e){t.values=e},expression:"values"}})],1):"date"===t.inputType?e("div",{staticClass:"multiselect-wrap--small"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.values,expression:"values"}],staticClass:"mb-0 datepicker",attrs:{type:"date",editable:!1},domProps:{value:t.values},on:{input:function(e){e.target.composing||(t.values=e.target.value)}}})]):e("input",{directives:[{name:"model",rawName:"v-model",value:t.values,expression:"values"}],staticClass:"mb-0",attrs:{type:"text",placeholder:"Enter value"},domProps:{value:t.values},on:{input:function(e){e.target.composing||(t.values=e.target.value)}}})]):t._e(),t._v(" "),e("woot-button",{attrs:{icon:"dismiss",variant:"clear","color-scheme":"secondary"},on:{click:t.removeFilter}})],1),t._v(" "),t.v.values.$dirty&&t.v.values.$error?e("p",{staticClass:"filter-error"},[t._v("\n      "+t._s(t.$t("FILTER.EMPTY_VALUE_ERROR"))+"\n    ")]):t._e()]),t._v(" "),t.showQueryOperator?e("div",{staticClass:"flex items-center justify-center relative my-2.5 mx-0"},[e("hr",{staticClass:"w-full absolute border-b border-solid border-slate-75 dark:border-slate-800"}),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.query_operator,expression:"query_operator"}],staticClass:"bg-white dark:bg-slate-900 mb-0 w-auto relative text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.query_operator=e.target.multiple?r:r[0]}}},[e("option",{attrs:{value:"and"}},[t._v("\n        "+t._s(t.$t("FILTER.QUERY_DROPDOWN_LABELS.AND"))+"\n      ")]),t._v(" "),e("option",{attrs:{value:"or"}},[t._v("\n        "+t._s(t.$t("FILTER.QUERY_DROPDOWN_LABELS.OR"))+"\n      ")])])]):t._e()])}),[],!1,null,"de5a525e",null);e.a=l.exports},2680:function(t,e,r){"use strict";r(16),r(7),r(21),r(83),r(49),r(266),r(4),r(31),r(33),r(20);function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}e.a=function(t){var e=JSON.parse(JSON.stringify(t)).map((function(t){return t.values=function(t){return"content"===t.attribute_key?(t.values||"").split(","):Array.isArray(t.values)?function(t){var e;return null!==(e=t.values[0])&&void 0!==e&&e.id?t.values.map((function(t){return t.id})):t.values}(t):"object"===n(t.values)?[t.values.id]:t.values?[t.values]:[]}(t),t}));return e[e.length-1].query_operator=void 0,{payload:e}}},2681:function(t,e,r){"use strict";r(2660)},2687:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return i})),r.d(e,"d",(function(){return o})),r.d(e,"e",(function(){return s}));var n=[{value:"equal_to",label:"Equal to"},{value:"not_equal_to",label:"Not equal to"}],a=[{value:"equal_to",label:"Equal to"},{value:"not_equal_to",label:"Not equal to"},{value:"is_present",label:"Is present"},{value:"is_not_present",label:"Is not present"}],i=[{value:"equal_to",label:"Equal to"},{value:"not_equal_to",label:"Not equal to"},{value:"contains",label:"Contains"},{value:"does_not_contain",label:"Does not contain"}],o=[{value:"equal_to",label:"Equal to"},{value:"not_equal_to",label:"Not equal to"},{value:"is_present",label:"Is present"},{value:"is_not_present",label:"Is not present"},{value:"is_greater_than",label:"Is greater than"},{value:"is_less_than",label:"Is less than"}],s=[{value:"is_greater_than",label:"Is greater than"},{value:"is_less_than",label:"Is less than"},{value:"days_before",label:"Is x days before"}]},2728:function(t,e,r){"use strict";r(83),r(41),r(37),r(4),r(31),r(7),r(33),r(16),r(20),r(21),r(69),r(64);var n=r(125);function a(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.a={methods:{setFilterAttributes:function(){var t=this,e=this.$store.getters["attributes/getAttributesByModel"](this.attributeModel),r={name:this.$t("".concat(this.filtersFori18n,".GROUPS.CUSTOM_ATTRIBUTES")),attributes:e.map((function(t){return{key:t.attribute_key,name:t.attribute_display_name}}))},n=this.filterAttributeGroups.map((function(e){return{name:t.$t("".concat(t.filtersFori18n,".GROUPS.").concat(e.i18nGroup)),attributes:e.attributes.map((function(e){return{key:e.key,name:t.$t("".concat(t.filtersFori18n,".ATTRIBUTES.").concat(e.i18nKey))}}))}})),i=e.map((function(e){return{attributeKey:e.attribute_key,attributeI18nKey:"CUSTOM_ATTRIBUTE_".concat(e.attribute_display_type.toUpperCase()),inputType:t.customAttributeInputType(e.attribute_display_type),filterOperators:t.getOperatorTypes(e.attribute_display_type),attributeModel:"custom_attributes"}}));this.filterTypes=[].concat(a(this.filterTypes),a(i)),this.filterGroups=[].concat(a(n),[r])},initializeExistingFilterToModal:function(){this.initializeStatusAndAssigneeFilterToModal(),this.initializeInboxTeamAndLabelFilterToModal()},initializeStatusAndAssigneeFilterToModal:function(){""!==this.activeStatus&&this.appliedFilter.push({attribute_key:"status",attribute_model:"standard",filter_operator:"equal_to",values:[{id:this.activeStatus,name:this.$t("CHAT_LIST.CHAT_STATUS_FILTER_ITEMS.".concat(this.activeStatus,".TEXT"))}],query_operator:"and",custom_attribute_type:""}),this.activeAssigneeTab===n.b.ASSIGNEE_TYPE.ME&&this.appliedFilter.push({attribute_key:"assignee_id",filter_operator:"equal_to",values:this.currentUserDetails,query_operator:"and",custom_attribute_type:""})},initializeInboxTeamAndLabelFilterToModal:function(){this.conversationInbox&&this.appliedFilter.push({attribute_key:"inbox_id",attribute_model:"standard",filter_operator:"equal_to",values:[{id:this.conversationInbox,name:this.inbox.name}],query_operator:"and",custom_attribute_type:""}),this.teamId&&this.appliedFilter.push({attribute_key:"team_id",attribute_model:"standard",filter_operator:"equal_to",values:this.activeTeam,query_operator:"and",custom_attribute_type:""}),this.label&&this.appliedFilter.push({attribute_key:"labels",attribute_model:"standard",filter_operator:"equal_to",values:[{id:this.label,name:this.label}],query_operator:"and",custom_attribute_type:""})}}}},2762:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));r(141),r(83),r(8),r(68),r(97),r(37),r(16),r(7),r(21),r(136);var n=function(t,e,r,n){var a=null===e||void 0===e?void 0:e.find((function(e){return e[r]===t[0]}));return{id:t[0],name:a?a[n]:t[0]}},a=function(t,e){var r=t.attribute_key,a=t.filter_operator,i=t.values,o=e.filterTypes,s=e.allCustomAttributes,l=function(t,e,r){if(("created_at"===t||"last_activity_at"===t)&&"days_before"===e)return"plain_text";var n=r.find((function(e){return e.attributeKey===t}));return null===n||void 0===n?void 0:n.inputType}(r,a,o);if(void 0===l){var c=function(t,e){return{text:"string",number:"string",date:"string",checkbox:"multi_select",list:"multi_select",link:"string"}[e.find((function(e){return e.attribute_key===t})).attribute_display_type]}(r,s);return"string"===c?i[0].toString():{id:i[0],name:i[0]}}return"multi_select"===l||"search_select"===l?function(t,e){var r=t.attribute_key,a=t.values,i=e.languages,o=e.countries,s=e.agents,l=e.inboxes,c=e.teams,u=e.campaigns,p=e.labels;switch(r){case"status":return function(t){return t.map((function(t){return{id:t,name:t}}))}(a);case"assignee_id":return n(a,s,"id","name");case"inbox_id":return n(a,l,"id","name");case"team_id":return n(a,c,"id","name");case"campaign_id":return n(a,u,"id","title");case"labels":return function(t,e){return e.filter((function(e){return t.includes(e.title)})).map((function(t){var e=t.title;return{id:e,name:e}}))}(a,p);case"browser_language":return function(t,e){return e.filter((function(e){return t.includes(e.id)})).map((function(t){var e=t.id,r=t.name;return{id:e.toLowerCase(),name:r}}))}(a,i);case"country_code":return function(t,e){return e.filter((function(e){return t.includes(e.id)})).map((function(t){return{id:t.id,name:t.name}}))}(a,o);default:return{id:a[0],name:a[0]}}}(t,e):i[0].toString()}},2807:function(t,e,r){"use strict";r(30),r(45),r(37),r(7),r(22);var n=r(57),a=r(79),i=r(87);function o(t,e,r,n,a,i,o){try{var s=t[i](o),l=s.value}catch(c){return void r(c)}s.done?e(l):Promise.resolve(l).then(n,a)}var s={mixins:[a.a],props:{filterType:{type:Number,default:0},customViewsQuery:{type:Object,default:function(){}},openLastSavedItem:{type:Function,default:function(){}}},data:function(){return{show:!0,name:""}},computed:{isButtonDisabled:function(){return this.$v.name.$invalid}},validations:{name:{required:n.required,minLength:Object(n.minLength)(1)}},methods:{onClose:function(){this.$emit("close")},saveCustomViews:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.$v.$invalid){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,e.$store.dispatch("customViews/create",{name:e.name,filter_type:e.filterType,query:e.customViewsQuery});case 6:e.alertMessage=0===e.filterType?e.$t("FILTER.CUSTOM_VIEWS.ADD.API_FOLDERS.SUCCESS_MESSAGE"):e.$t("FILTER.CUSTOM_VIEWS.ADD.API_SEGMENTS.SUCCESS_MESSAGE"),e.onClose(),e.$track(i.c.SAVE_FILTER,{type:0===e.filterType?"folder":"segment"}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),r=null===t.t0||void 0===t.t0?void 0:t.t0.message,e.alertMessage=r||0===e.filterType?r:e.$t("FILTER.CUSTOM_VIEWS.ADD.API_SEGMENTS.ERROR_MESSAGE");case 15:return t.prev=15,e.showAlert(e.alertMessage),t.finish(15);case 18:e.openLastSavedItem();case 19:case"end":return t.stop()}}),t,null,[[3,11,15,18]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function s(t){o(i,n,a,s,l,"next",t)}function l(t){o(i,n,a,s,l,"throw",t)}s(void 0)}))})()}}},l=s,c=r(5),u=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("woot-modal",{attrs:{show:t.show,"on-close":t.onClose},on:{"update:show":function(e){t.show=e}}},[e("woot-modal-header",{attrs:{"header-title":t.$t("FILTER.CUSTOM_VIEWS.ADD.TITLE")}}),t._v(" "),e("form",{staticClass:"w-full",on:{submit:function(e){return e.preventDefault(),t.saveCustomViews.apply(null,arguments)}}},[e("div",{staticClass:"w-full"},[e("woot-input",{class:{error:t.$v.name.$error},attrs:{label:t.$t("FILTER.CUSTOM_VIEWS.ADD.LABEL"),type:"text",error:t.$v.name.$error?t.$t("FILTER.CUSTOM_VIEWS.ADD.ERROR_MESSAGE"):"",placeholder:t.$t("FILTER.CUSTOM_VIEWS.ADD.PLACEHOLDER")},on:{blur:t.$v.name.$touch},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),e("div",{staticClass:"flex flex-row justify-end gap-2 py-2 px-0 w-full"},[e("woot-button",{attrs:{disabled:t.isButtonDisabled}},[t._v("\n          "+t._s(t.$t("FILTER.CUSTOM_VIEWS.ADD.SAVE_BUTTON"))+"\n        ")]),t._v(" "),e("woot-button",{attrs:{variant:"clear"},on:{click:function(e){return e.preventDefault(),t.onClose.apply(null,arguments)}}},[t._v("\n          "+t._s(t.$t("FILTER.CUSTOM_VIEWS.ADD.CANCEL_BUTTON"))+"\n        ")])],1)],1)])],1)}),[],!1,null,null,null);e.a=u.exports},2808:function(t,e,r){"use strict";r(30),r(45),r(37),r(7),r(22);var n=r(79),a=r(87);function i(t,e,r,n,a,i,o){try{var s=t[i](o),l=s.value}catch(c){return void r(c)}s.done?e(l):Promise.resolve(l).then(n,a)}var o={mixins:[n.a],props:{showDeletePopup:{type:Boolean,default:!1},activeCustomView:{type:Object,default:function(){}},customViewsId:{type:[String,Number],default:0},activeFilterType:{type:Number,default:0},openLastItemAfterDelete:{type:Function,default:function(){}}},computed:{activeCustomViews:function(){return 0===this.activeFilterType?"conversation":1===this.activeFilterType?"contact":""},deleteMessage:function(){return" ".concat(this.activeCustomView&&this.activeCustomView.name,"?")},deleteConfirmText:function(){return"".concat(this.$t("FILTER.CUSTOM_VIEWS.DELETE.MODAL.CONFIRM.YES"))},deleteRejectText:function(){return"".concat(this.$t("FILTER.CUSTOM_VIEWS.DELETE.MODAL.CONFIRM.NO"))},isFolderSection:function(){return 0===this.activeFilterType&&"home"!==this.$route.name},isSegmentSection:function(){return 1===this.activeFilterType&&"contacts_dashboard"!==this.$route.name}},methods:{deleteSavedCustomViews:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var r,n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=Number(e.customViewsId),n=e.activeCustomViews,t.next=5,e.$store.dispatch("customViews/delete",{id:r,filterType:n});case 5:e.closeDeletePopup(),e.showAlert(0===e.activeFilterType?e.$t("FILTER.CUSTOM_VIEWS.DELETE.API_FOLDERS.SUCCESS_MESSAGE"):e.$t("FILTER.CUSTOM_VIEWS.DELETE.API_SEGMENTS.SUCCESS_MESSAGE")),e.$track(a.c.DELETE_FILTER,{type:0===e.filterType?"folder":"segment"}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),o=null!==t.t0&&void 0!==t.t0&&null!==(i=t.t0.response)&&void 0!==i&&i.message||0===e.activeFilterType?e.$t("FILTER.CUSTOM_VIEWS.DELETE.API_FOLDERS.SUCCESS_MESSAGE"):e.$t("FILTER.CUSTOM_VIEWS.DELETE.API_SEGMENTS.SUCCESS_MESSAGE"),e.showAlert(o);case 14:e.openLastItemAfterDelete();case 15:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(t){i(o,n,a,s,l,"next",t)}function l(t){i(o,n,a,s,l,"throw",t)}s(void 0)}))})()},closeDeletePopup:function(){this.$emit("close")}}},s=o,l=r(5),c=Object(l.a)(s,(function(){var t=this,e=t._self._c;return e("div",[t.showDeletePopup?e("woot-delete-modal",{attrs:{show:t.showDeletePopup,"on-close":t.closeDeletePopup,"on-confirm":t.deleteSavedCustomViews,title:t.$t("FILTER.CUSTOM_VIEWS.DELETE.MODAL.CONFIRM.TITLE"),message:t.$t("FILTER.CUSTOM_VIEWS.DELETE.MODAL.CONFIRM.MESSAGE"),"message-value":t.deleteMessage,"confirm-text":t.deleteConfirmText,"reject-text":t.deleteRejectText},on:{"update:show":function(e){t.showDeletePopup=e}}}):t._e()],1)}),[],!1,null,null,null);e.a=c.exports},2967:function(t,e,r){},2968:function(t,e,r){},2971:function(t,e,r){},3271:function(t,e,r){r(24)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},3272:function(t,e,r){"use strict";r(2967)},3273:function(t,e,r){"use strict";r(2968)},3276:function(t,e,r){"use strict";r(2971)},3351:function(t,e,r){"use strict";r.r(e);r(45),r(83),r(37),r(141),r(3271),r(8),r(41),r(10),r(377),r(16),r(7),r(21),r(4),r(11),r(9),r(12),r(31),r(33),r(20),r(64),r(69);var n=r(25);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s={mixins:[r(221).a],props:{headerTitle:{type:String,default:""},searchQuery:{type:String,default:""},segmentsId:{type:[String,Number],default:0}},data:function(){return{showCreateModal:!1,showImportModal:!1}},computed:i(i({searchButtonClass:function(){return""!==this.searchQuery?"show":""}},Object(n.mapGetters)({getAppliedContactFilters:"contacts/getAppliedContactFilters"})),{},{hasAppliedFilters:function(){return this.getAppliedContactFilters.length},hasActiveSegments:function(){return 0!==this.segmentsId}}),methods:{onToggleSegmentsModal:function(){this.$emit("on-toggle-save-filter")},onToggleEditSegmentsModal:function(){this.$emit("on-toggle-edit-filter")},onToggleDeleteSegmentsModal:function(){this.$emit("on-toggle-delete-filter")},toggleCreate:function(){this.$emit("on-toggle-create")},toggleFilter:function(){this.$emit("on-toggle-filter")},toggleImport:function(){this.$emit("on-toggle-import")},submitExport:function(){this.$emit("on-export-submit")},submitSearch:function(){this.$emit("on-search-submit")},inputSearch:function(t){this.$emit("on-input-search",t)}}},l=(r(3272),r(5)),c=Object(l.a)(s,(function(){var t=this,e=t._self._c;return e("header",{staticClass:"bg-white dark:bg-slate-900 border-b border-slate-50 dark:border-slate-800"},[e("div",{staticClass:"flex justify-between w-full py-2 px-4"},[e("div",{staticClass:"flex items-center justify-center max-w-full min-w-[6.25rem]"},[e("woot-sidemenu-icon"),t._v(" "),e("h1",{staticClass:"m-0 text-xl text-slate-900 dark:text-slate-100 overflow-hidden whitespace-nowrap text-ellipsis my-0 mx-2"},[t._v("\n        "+t._s(t.headerTitle)+"\n      ")])],1),t._v(" "),e("div",{staticClass:"flex gap-2"},[e("div",{staticClass:"max-w-[400px] min-w-[150px] flex items-center relative mx-2 search-wrap"},[e("div",{staticClass:"flex items-center absolute h-full left-2.5"},[e("fluent-icon",{staticClass:"h-5 leading-9 text-sm text-slate-700 dark:text-slate-200",attrs:{icon:"search"}})],1),t._v(" "),e("input",{staticClass:"contact-search border-slate-100 dark:border-slate-600",attrs:{type:"text",placeholder:t.$t("CONTACTS_PAGE.SEARCH_INPUT_PLACEHOLDER")},domProps:{value:t.searchQuery},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitSearch.apply(null,arguments)},input:t.inputSearch}}),t._v(" "),e("woot-button",{staticClass:"clear",attrs:{"is-loading":!1,"class-names":t.searchButtonClass},on:{click:t.submitSearch}},[t._v("\n          "+t._s(t.$t("CONTACTS_PAGE.SEARCH_BUTTON"))+"\n        ")])],1),t._v(" "),t.hasActiveSegments?e("div",{staticClass:"flex gap-2"},[e("woot-button",{staticClass:"clear",attrs:{"color-scheme":"secondary",icon:"edit"},on:{click:t.onToggleEditSegmentsModal}},[t._v("\n          "+t._s(t.$t("CONTACTS_PAGE.FILTER_CONTACTS_EDIT"))+"\n        ")]),t._v(" "),e("woot-button",{staticClass:"clear",attrs:{"color-scheme":"alert",icon:"delete"},on:{click:t.onToggleDeleteSegmentsModal}},[t._v("\n          "+t._s(t.$t("CONTACTS_PAGE.FILTER_CONTACTS_DELETE"))+"\n        ")])],1):t._e(),t._v(" "),t.hasActiveSegments?t._e():e("div",{staticClass:"relative"},[t.hasAppliedFilters?e("div",{staticClass:"absolute h-2 w-2 top-1 right-3 bg-slate-500 dark:bg-slate-500 rounded-full"}):t._e(),t._v(" "),e("woot-button",{staticClass:"clear",attrs:{"color-scheme":"secondary","data-testid":"create-new-contact",icon:"filter"},on:{click:t.toggleFilter}},[t._v("\n          "+t._s(t.$t("CONTACTS_PAGE.FILTER_CONTACTS"))+"\n        ")])],1),t._v(" "),t.hasAppliedFilters&&!t.hasActiveSegments?e("woot-button",{staticClass:"clear",attrs:{"color-scheme":"alert",variant:"clear",icon:"save"},on:{click:t.onToggleSegmentsModal}},[t._v("\n        "+t._s(t.$t("CONTACTS_PAGE.FILTER_CONTACTS_SAVE"))+"\n      ")]):t._e(),t._v(" "),e("woot-button",{staticClass:"clear",attrs:{"color-scheme":"success",icon:"person-add","data-testid":"create-new-contact"},on:{click:t.toggleCreate}},[t._v("\n        "+t._s(t.$t("CREATE_CONTACT.BUTTON_LABEL"))+"\n      ")]),t._v(" "),t.isAdmin?e("woot-button",{staticClass:"clear",attrs:{"color-scheme":"info",icon:"upload"},on:{click:t.toggleImport}},[t._v("\n        "+t._s(t.$t("IMPORT_CONTACTS.BUTTON_LABEL"))+"\n      ")]):t._e(),t._v(" "),t.isAdmin?e("woot-button",{staticClass:"clear",attrs:{"color-scheme":"info",icon:"download"},on:{click:t.submitExport}},[t._v("\n        "+t._s(t.$t("EXPORT_CONTACTS.BUTTON_LABEL"))+"\n      ")]):t._e()],1)])])}),[],!1,null,"6ec795e6",null),u=c.exports,p=r(149),d=r(2755),f=r(2732),h=r(170),m=r(261),v=r(1919),b=r(1914),y=r(1777),_=r(535);function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){C(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function C(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var S={components:{EmptyState:v.a,Spinner:h.a,VeTable:d.VeTable},mixins:[p.mixin,b.a,y.a],props:{contacts:{type:Array,default:function(){return[]}},showSearchEmptyState:{type:Boolean,default:!1},onClickContact:{type:Function,default:function(){}},isLoading:{type:Boolean,default:!1},activeContactId:{type:[String,Number],default:""},sortParam:{type:String,default:"last_activity_at"},sortOrder:{type:String,default:"desc"}},data:function(){var t=this;return{sortConfig:{},sortOption:{sortAlways:!0,sortChange:function(e){return t.$emit("on-sort-change",e)}}}},computed:{tableData:function(){var t=this;return this.isLoading?[]:this.contacts.map((function(e){var r=e.additional_attributes||{},n=e.last_activity_at,a=e.created_at;return T(T({},e),{},{phone_number:e.phone_number||"---",company:r.company_name||"---",profiles:r.social_profiles||{},city:r.city||"---",country:r.country,countryCode:r.country_code,conversationsCount:e.conversations_count||"---",last_activity_at:n?t.dynamicTime(n):"---",created_at:a?t.dynamicTime(a):"---"})}))},columns:function(){var t=this,e=this.$createElement;return[{field:"name",key:"name",title:this.$t("CONTACTS_PAGE.LIST.TABLE_HEADER.NAME"),fixed:"left",align:this.isRTLView?"right":"left",sortBy:this.sortConfig.name||"",width:300,renderBodyCell:function(r){var n=r.row;return e("woot-button",{attrs:{variant:"clear"},on:{click:function(){return t.onClickContact(n.id)}}},[e("div",{class:"row--user-block"},[e(m.a,{attrs:{src:n.thumbnail,size:"32px",username:n.name,status:n.availability_status}}),e("div",{class:"user-block"},[e("h6",{class:"sub-block-title overflow-hidden whitespace-nowrap text-ellipsis"},[e("router-link",{attrs:{to:"/app/accounts/".concat(t.$route.params.accountId,"/contacts/").concat(n.id)},class:"user-name"},[n.name])]),e("button",{class:"button clear small link view-details--button"},[t.$t("CONTACTS_PAGE.LIST.VIEW_DETAILS")])])])])}},{field:"email",key:"email",title:this.$t("CONTACTS_PAGE.LIST.TABLE_HEADER.EMAIL_ADDRESS"),align:this.isRTLView?"right":"left",sortBy:this.sortConfig.email||"",width:240,renderBodyCell:function(t){var r=t.row;return r.email?e("div",{class:"overflow-hidden whitespace-nowrap text-ellipsis text-woot-500 dark:text-woot-500"},[e("a",{attrs:{target:"_blank",rel:"noopener noreferrer nofollow",href:"mailto:".concat(r.email)}},[r.email])]):"---"}},{field:"phone_number",key:"phone_number",sortBy:this.sortConfig.phone_number||"",title:this.$t("CONTACTS_PAGE.LIST.TABLE_HEADER.PHONE_NUMBER"),align:this.isRTLView?"right":"left"},{field:"company",key:"company",sortBy:this.sortConfig.company_name||"",title:this.$t("CONTACTS_PAGE.LIST.TABLE_HEADER.COMPANY"),align:this.isRTLView?"right":"left"},{field:"city",key:"city",sortBy:this.sortConfig.city||"",title:this.$t("CONTACTS_PAGE.LIST.TABLE_HEADER.CITY"),align:this.isRTLView?"right":"left"},{field:"country",key:"country",title:this.$t("CONTACTS_PAGE.LIST.TABLE_HEADER.COUNTRY"),align:this.isRTLView?"right":"left",sortBy:this.sortConfig.country||"",renderBodyCell:function(t){var r=t.row;return r.country?e("div",{class:"overflow-hidden whitespace-nowrap text-ellipsis"},["".concat(Object(f.a)(r.countryCode)," ").concat(r.country)]):"---"}},{field:"profiles",key:"profiles",title:this.$t("CONTACTS_PAGE.LIST.TABLE_HEADER.SOCIAL_PROFILES"),align:this.isRTLView?"right":"left",renderBodyCell:function(t){var r=t.row.profiles,n=Object.keys(r);return n.length?e("div",{class:"cell--social-profiles flex gap-0.5 items-center"},[n.map((function(t){return r[t]&&e("a",{attrs:{target:"_blank",rel:"noopener noreferrer nofollow",href:"https://".concat(t,".com/").concat(r[t])}},[e(_.a,{attrs:{icon:"brand-".concat(t)}})])}))]):"---"}},{field:"last_activity_at",key:"last_activity_at",sortBy:this.sortConfig.last_activity_at||"",title:this.$t("CONTACTS_PAGE.LIST.TABLE_HEADER.LAST_ACTIVITY"),align:this.isRTLView?"right":"left"},{field:"created_at",key:"created_at",sortBy:this.sortConfig.created_at||"",title:this.$t("CONTACTS_PAGE.LIST.TABLE_HEADER.CREATED_AT"),align:this.isRTLView?"right":"left"}]}},watch:{sortOrder:function(){this.setSortConfig()},sortParam:function(){this.setSortConfig()}},mounted:function(){this.setSortConfig()},methods:{setSortConfig:function(){this.sortConfig=C({},this.sortParam,this.sortOrder)}}},w=(r(3273),Object(l.a)(S,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"contacts-table-wrap bg-white dark:bg-slate-900 flex-1 h-full overflow-hidden -mt-1"},[e("ve-table",{attrs:{"fixed-header":!0,"max-height":"calc(100vh - 7.125rem)","scroll-width":"187rem",columns:t.columns,"table-data":t.tableData,"border-around":!1,"sort-option":t.sortOption}}),t._v(" "),t.showSearchEmptyState?e("empty-state",{attrs:{title:t.$t("CONTACTS_PAGE.LIST.404")}}):t.isLoading||t.contacts.length?t._e():e("empty-state",{attrs:{title:t.$t("CONTACTS_PAGE.LIST.NO_CONTACTS")}}),t._v(" "),t.isLoading?e("div",{staticClass:"items-center flex text-base justify-center"},[e("spinner"),t._v(" "),e("span",[t._v(t._s(t.$t("CONTACTS_PAGE.LIST.LOADING_MESSAGE")))])],1):t._e()],1)}),[],!1,null,"508dfcdc",null).exports),E=r(3018);r(22),r(30);function O(t,e,r,n,a,i,o){try{var s=t[i](o),l=s.value}catch(c){return void r(c)}s.done?e(l):Promise.resolve(l).then(n,a)}function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function I(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var F={components:{ContactForm:r(2740).a},props:{show:{type:Boolean,default:!1},contact:{type:Object,default:function(){return{}}}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){I(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(n.mapGetters)({uiFlags:"contacts/getUIFlags"})),methods:{onCancel:function(){this.$emit("cancel")},onSuccess:function(){this.$emit("cancel")},onSubmit:function(t){var e,r=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.$store.dispatch("contacts/create",t);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(t){O(i,n,a,o,s,"next",t)}function s(t){O(i,n,a,o,s,"throw",t)}o(void 0)}))})()}}},P=F,L=Object(l.a)(P,(function(){var t=this,e=t._self._c;return e("woot-modal",{attrs:{show:t.show,"on-close":t.onCancel,"modal-type":"right-aligned"},on:{"update:show":function(e){t.show=e}}},[e("div",{staticClass:"h-auto overflow-auto flex flex-col"},[e("woot-modal-header",{attrs:{"header-title":t.$t("CREATE_CONTACT.TITLE"),"header-content":t.$t("CREATE_CONTACT.DESC")}}),t._v(" "),e("contact-form",{attrs:{"in-progress":t.uiFlags.isCreating,"on-submit":t.onSubmit},on:{success:t.onSuccess,cancel:t.onCancel}})],1)])}),[],!1,null,null,null).exports,x=r(2674),R=r(301),N=r(79),k=r(87);function M(t,e,r,n,a,i,o){try{var s=t[i](o),l=s.value}catch(c){return void r(c)}s.done?e(l):Promise.resolve(l).then(n,a)}function $(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function j(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var U={components:{Modal:R.a},mixins:[N.a],props:{onClose:{type:Function,default:function(){}}},data:function(){return{show:!0,file:""}},computed:D(D({},Object(n.mapGetters)({uiFlags:"contacts/getUIFlags"})),{},{csvUrl:function(){return"/downloads/import-contacts-sample.csv"}}),mounted:function(){this.$track(k.c.IMPORT_MODAL_OPEN)},methods:{uploadFile:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.file){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.$store.dispatch("contacts/import",e.file);case 5:e.onClose(),e.showAlert(e.$t("IMPORT_CONTACTS.SUCCESS_MESSAGE")),e.$track(k.c.IMPORT_SUCCESS),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),e.showAlert(t.t0.message||e.$t("IMPORT_CONTACTS.ERROR_MESSAGE")),e.$track(k.c.IMPORT_FAILURE);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(t){M(i,n,a,o,s,"next",t)}function s(t){M(i,n,a,o,s,"throw",t)}o(void 0)}))})()},handleFileUpload:function(){this.file=this.$refs.file.files[0]}}},B=U,V=Object(l.a)(B,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{show:t.show,"on-close":t.onClose},on:{"update:show":function(e){t.show=e}}},[e("div",{staticClass:"h-auto overflow-auto flex flex-col"},[e("woot-modal-header",{attrs:{"header-title":t.$t("IMPORT_CONTACTS.TITLE")}},[e("p",[t._v("\n        "+t._s(t.$t("IMPORT_CONTACTS.DESC"))+"\n        "),e("a",{attrs:{href:t.csvUrl,download:"import-contacts-sample"}},[t._v(t._s(t.$t("IMPORT_CONTACTS.DOWNLOAD_LABEL")))])])]),t._v(" "),e("div",{staticClass:"flex flex-col p-8"},[e("div",{staticClass:"w-full"},[e("label",[e("span",[t._v(t._s(t.$t("IMPORT_CONTACTS.FORM.LABEL")))]),t._v(" "),e("input",{ref:"file",attrs:{id:"file",type:"file",accept:"text/csv"},on:{change:t.handleFileUpload}})])]),t._v(" "),e("div",{staticClass:"flex flex-row justify-end gap-2 py-2 px-0 w-full"},[e("div",{staticClass:"w-full"},[e("woot-button",{attrs:{disabled:t.uiFlags.isCreating||!t.file,loading:t.uiFlags.isCreating},on:{click:t.uploadFile}},[t._v("\n            "+t._s(t.$t("IMPORT_CONTACTS.FORM.SUBMIT"))+"\n          ")]),t._v(" "),e("button",{staticClass:"button clear",on:{click:function(e){return e.preventDefault(),t.onClose.apply(null,arguments)}}},[t._v("\n            "+t._s(t.$t("IMPORT_CONTACTS.FORM.CANCEL"))+"\n          ")])],1)])])],1)])}),[],!1,null,null,null),q=V.exports,G=(r(354),r(57)),K=r(2675),Q=r(1920),z=r(2687),W=[{attributeKey:"name",attributeI18nKey:"NAME",inputType:"plain_text",dataType:"text",filterOperators:z.a,attribute_type:"standard"},{attributeKey:"email",attributeI18nKey:"EMAIL",inputType:"plain_text",dataType:"text",filterOperators:z.c,attribute_type:"standard"},{attributeKey:"phone_number",attributeI18nKey:"PHONE_NUMBER",inputType:"plain_text",dataType:"text",filterOperators:z.c,attribute_type:"standard"},{attributeKey:"identifier",attributeI18nKey:"IDENTIFIER",inputType:"plain_text",dataType:"number",filterOperators:z.a,attribute_type:"standard"},{attributeKey:"country_code",attributeI18nKey:"COUNTRY",inputType:"search_select",dataType:"number",filterOperators:z.a,attribute_type:"standard"},{attributeKey:"city",attributeI18nKey:"CITY",inputType:"plain_text",dataType:"Number",filterOperators:z.c,attribute_type:"standard"},{attributeKey:"created_at",attributeI18nKey:"CREATED_AT",inputType:"date",dataType:"text",filterOperators:z.e,attributeModel:"standard"},{attributeKey:"last_activity_at",attributeI18nKey:"LAST_ACTIVITY",inputType:"date",dataType:"text",filterOperators:z.e,attributeModel:"standard"},{attributeKey:"referer",attributeI18nKey:"REFERER_LINK",inputType:"plain_text",dataType:"text",filterOperators:z.e,attributeModel:"standard"}],H=[{name:"Standard Filters",i18nGroup:"STANDARD_FILTERS",attributes:[{key:"name",i18nKey:"NAME"},{key:"email",i18nKey:"EMAIL"},{key:"phone_number",i18nKey:"PHONE_NUMBER"},{key:"identifier",i18nKey:"IDENTIFIER"},{key:"country_code",i18nKey:"COUNTRY"},{key:"city",i18nKey:"CITY"},{key:"created_at",i18nKey:"CREATED_AT"},{key:"last_activity_at",i18nKey:"LAST_ACTIVITY"}]}],Y=W,J=r(2728);function X(t){return function(t){if(Array.isArray(t))return Z(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(r),!0).forEach((function(e){rt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function rt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var nt={components:{FilterInputBox:K.a},mixins:[N.a,J.a],props:{onClose:{type:Function,default:function(){}},initialFilterTypes:{type:Array,default:function(){return[]}},initialAppliedFilters:{type:Array,default:function(){return[]}},isSegmentsView:{type:Boolean,default:!1},activeSegmentName:{type:String,default:""}},validations:{appliedFilters:{required:G.required,$each:{values:{required:G.required,ensureBetween0to999:function(t,e){return"days_before"!==e.filter_operator||parseInt(t,10)>0&&parseInt(t,10)<999}}}}},data:function(){return{show:!0,appliedFilters:this.initialAppliedFilters,activeSegmentNewName:this.activeSegmentName,filterTypes:this.initialFilterTypes,filterGroups:[],allCustomAttributes:[],filterAttributeGroups:H,attributeModel:"contact_attribute",filtersFori18n:"CONTACTS_FILTER"}},computed:et(et({},Object(n.mapGetters)({getAppliedContactFilters:"contacts/getAppliedContactFilters"})),{},{hasAppliedFilters:function(){return this.getAppliedContactFilters.length},filterModalHeaderTitle:function(){return this.isSegmentsView?this.$t("CONTACTS_FILTER.EDIT_CUSTOM_SEGMENT"):this.$t("CONTACTS_FILTER.TITLE")},filterModalSubTitle:function(){return this.isSegmentsView?this.$t("CONTACTS_FILTER.CUSTOM_VIEWS_SUBTITLE"):this.$t("CONTACTS_FILTER.SUBTITLE")}}),mounted:function(){this.setFilterAttributes(),this.getAppliedContactFilters.length?this.appliedFilters=X(this.getAppliedContactFilters):this.isSegmentsView||this.appliedFilters.push({attribute_key:"name",filter_operator:"equal_to",values:"",query_operator:"and",attribute_model:"standard"})},methods:{getOperatorTypes:function(t){switch(t){case"list":case"number":case"link":case"checkbox":default:return z.a;case"text":return z.c;case"date":return z.d}},customAttributeInputType:function(t){switch(t){case"date":return"date";case"text":default:return"plain_text";case"list":case"checkbox":return"search_select"}},getAttributeModel:function(t){return this.filterTypes.find((function(e){return e.attributeKey===t})).attributeModel},getInputType:function(t,e){if(("created_at"===t||"last_activity_at"===t)&&"days_before"===e)return"plain_text";var r=this.filterTypes.find((function(e){return e.attributeKey===t}));return null===r||void 0===r?void 0:r.inputType},getOperators:function(t){var e=this.filterTypes.find((function(e){return e.attributeKey===t}));return null===e||void 0===e?void 0:e.filterOperators},getDropdownValues:function(t){var e=this.$store.getters["attributes/getAttributesByModel"](this.attributeModel);return e.find((function(e){return e.attribute_key===t&&"checkbox"===e.attribute_display_type}))?[{id:!0,name:this.$t("FILTER.ATTRIBUTE_LABELS.TRUE")},{id:!1,name:this.$t("FILTER.ATTRIBUTE_LABELS.FALSE")}]:e.find((function(e){return e.attribute_key===t&&"list"===e.attribute_display_type}))?e.find((function(e){return e.attribute_key===t})).attribute_values.map((function(t){return{id:t,name:t}})):"country_code"===t?Q.a:void 0},appendNewFilter:function(){this.isSegmentsView?this.setQueryOperatorOnLastQuery():this.appliedFilters.push({attribute_key:"name",filter_operator:"equal_to",values:"",query_operator:"and"})},setQueryOperatorOnLastQuery:function(){var t=this,e=this.appliedFilters.length-1;this.appliedFilters[e]=et(et({},this.appliedFilters[e]),{},{query_operator:"and"}),this.$nextTick((function(){t.appliedFilters.push({attribute_key:"name",filter_operator:"equal_to",values:"",query_operator:"and"})}))},removeFilter:function(t){this.appliedFilters.length<=1?this.showAlert(this.$t("CONTACTS_FILTER.FILTER_DELETE_ERROR")):this.appliedFilters.splice(t,1)},submitFilterQuery:function(){this.$v.$touch(),this.$v.$invalid||(this.$store.dispatch("contacts/setContactFilters",JSON.parse(JSON.stringify(this.appliedFilters))),this.$emit("applyFilter",this.appliedFilters),this.$track(k.c.APPLY_FILTER,{applied_filters:this.appliedFilters.map((function(t){return{key:t.attribute_key,operator:t.filter_operator,query_operator:t.query_operator}}))}))},updateSegment:function(){this.$emit("updateSegment",this.appliedFilters,this.activeSegmentNewName)},resetFilter:function(t,e){this.appliedFilters[t].filter_operator=this.filterTypes.find((function(t){return t.attributeKey===e.attribute_key})).filterOperators[0].value,this.appliedFilters[t].values=""},showUserInput:function(t){return"is_present"!==t&&"is_not_present"!==t},clearFilters:function(){this.$emit("clearFilters"),this.onClose()}}},at=(r(3276),Object(l.a)(nt,(function(){var t=this,e=t._self._c;return e("div",[e("woot-modal-header",{attrs:{"header-title":t.filterModalHeaderTitle}},[e("p",{staticClass:"text-slate-600 dark:text-slate-200"},[t._v("\n      "+t._s(t.filterModalSubTitle)+"\n    ")])]),t._v(" "),e("div",{staticClass:"p-8"},[t.isSegmentsView?e("div",[e("label",{staticClass:"input-label",class:{error:!t.activeSegmentNewName}},[t._v("\n        "+t._s(t.$t("CONTACTS_FILTER.SEGMENT_LABEL"))+"\n        "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.activeSegmentNewName,expression:"activeSegmentNewName"}],staticClass:"folder-input border-slate-75 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",attrs:{type:"text"},domProps:{value:t.activeSegmentNewName},on:{input:function(e){e.target.composing||(t.activeSegmentNewName=e.target.value)}}}),t._v(" "),t.activeSegmentNewName?t._e():e("span",{staticClass:"message"},[t._v("\n          "+t._s(t.$t("CONTACTS_FILTER.EMPTY_VALUE_ERROR"))+"\n        ")])]),t._v(" "),e("label",{staticClass:"input-label"},[t._v("\n        "+t._s(t.$t("CONTACTS_FILTER.SEGMENT_QUERY_LABEL"))+"\n      ")])]):t._e(),t._v(" "),e("div",{staticClass:"p-4 rounded-lg bg-slate-25 dark:bg-slate-900 border border-solid border-slate-50 dark:border-slate-700/50 mb-4"},[t._l(t.appliedFilters,(function(r,n){return e("filter-input-box",{key:n,attrs:{"filter-groups":t.filterGroups,"grouped-filters":!0,"input-type":t.getInputType(t.appliedFilters[n].attribute_key,t.appliedFilters[n].filter_operator),operators:t.getOperators(t.appliedFilters[n].attribute_key),"dropdown-values":t.getDropdownValues(t.appliedFilters[n].attribute_key),"show-query-operator":n!==t.appliedFilters.length-1,"show-user-input":t.showUserInput(t.appliedFilters[n].filter_operator),v:t.$v.appliedFilters.$each[n]},on:{resetFilter:function(e){return t.resetFilter(n,t.appliedFilters[n])},removeFilter:function(e){return t.removeFilter(n)}},model:{value:t.appliedFilters[n],callback:function(e){t.$set(t.appliedFilters,n,e)},expression:"appliedFilters[i]"}})})),t._v(" "),e("div",{staticClass:"mt-4"},[e("woot-button",{attrs:{icon:"add","color-scheme":"success",variant:"smooth",size:"small"},on:{click:t.appendNewFilter}},[t._v("\n          "+t._s(t.$t("CONTACTS_FILTER.ADD_NEW_FILTER"))+"\n        ")]),t._v(" "),t.hasAppliedFilters&&!t.isSegmentsView?e("woot-button",{attrs:{icon:"subtract","color-scheme":"alert",variant:"smooth",size:"small"},on:{click:t.clearFilters}},[t._v("\n          "+t._s(t.$t("CONTACTS_FILTER.CLEAR_ALL_FILTERS"))+"\n        ")]):t._e()],1)],2),t._v(" "),e("div",{staticClass:"w-full"},[e("div",{staticClass:"flex flex-row justify-end gap-2 py-2 px-0 w-full"},[e("woot-button",{staticClass:"button clear",on:{click:function(e){return e.preventDefault(),t.onClose.apply(null,arguments)}}},[t._v("\n          "+t._s(t.$t("CONTACTS_FILTER.CANCEL_BUTTON_LABEL"))+"\n        ")]),t._v(" "),t.isSegmentsView?e("woot-button",{attrs:{disabled:!t.activeSegmentNewName},on:{click:t.updateSegment}},[t._v("\n          "+t._s(t.$t("CONTACTS_FILTER.UPDATE_BUTTON_LABEL"))+"\n        ")]):e("woot-button",{on:{click:t.submitFilterQuery}},[t._v("\n          "+t._s(t.$t("CONTACTS_FILTER.SUBMIT_BUTTON_LABEL"))+"\n        ")])],1)])])],1)}),[],!1,null,"e14852b8",null)),it=at.exports,ot=r(2680),st=r(2807),lt=r(2808),ct=r(2762);function ut(t){return function(t){if(Array.isArray(t))return ft(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||dt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==r)return;var n,a,i=[],o=!0,s=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}(t,e)||dt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(t,e){if(t){if("string"===typeof t)return ft(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ft(t,e):void 0}}function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ht(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function mt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(r),!0).forEach((function(e){vt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function vt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var bt={components:{ContactsHeader:u,ContactsTable:w,TableFooter:x.a,ContactInfoPanel:E.a,CreateContact:L,ImportContacts:q,ContactsAdvancedFilters:it,AddCustomViews:st.a,DeleteCustomViews:lt.a},mixins:[N.a],props:{label:{type:String,default:""},segmentsId:{type:[String,Number],default:0}},data:function(){var t=this;return{searchQuery:"",showCreateModal:!1,showImportModal:!1,selectedContactId:"",sortConfig:{last_activity_at:"desc"},showFiltersModal:!1,contactFilterItems:Y.map((function(e){return mt(mt({},e),{},{attributeName:t.$t("CONTACTS_FILTER.ATTRIBUTES.".concat(e.attributeI18nKey))})})),segmentsQuery:{},filterType:1,showAddSegmentsModal:!1,showDeleteSegmentsModal:!1,appliedFilter:[]}},computed:mt(mt({},Object(n.mapGetters)({records:"contacts/getContacts",uiFlags:"contacts/getUIFlags",meta:"contacts/getMeta",segments:"customViews/getCustomViews",getAppliedContactFilters:"contacts/getAppliedContactFilters"})),{},{showEmptySearchResult:function(){return!!this.searchQuery&&0===this.records.length},hasAppliedFilters:function(){return this.getAppliedContactFilters.length},hasActiveSegments:function(){return this.activeSegment&&0!==this.segmentsId},isContactAndLabelDashboard:function(){return"contacts_dashboard"===this.$route.name||"contacts_labels_dashboard"===this.$route.name},pageTitle:function(){return this.hasActiveSegments?this.activeSegment.name:this.label?"#".concat(this.label):this.$t("CONTACTS_PAGE.HEADER")},selectedContact:function(){var t=this;if(this.selectedContactId)return this.records.find((function(e){return t.selectedContactId===e.id}))},showContactViewPane:function(){return""!==this.selectedContactId},wrapClass:function(){return this.showContactViewPane?"w-[75%]":"w-full"},pageParameter:function(){var t,e=Number(null===(t=this.$route.query)||void 0===t?void 0:t.page);return!Number.isNaN(e)&&e>=1?e:1},activeSegment:function(){var t=this;if(this.segmentsId)return pt(this.segments.filter((function(e){return e.id===Number(t.segmentsId)})),1)[0]},activeSegmentName:function(){var t;return null===(t=this.activeSegment)||void 0===t?void 0:t.name}}),watch:{label:function(){this.fetchContacts(1),this.hasAppliedFilters&&this.clearFilters()},activeSegment:function(){if(this.hasActiveSegments){var t=this.activeSegment.query;this.fetchSavedFilteredContact(t,1)}this.hasAppliedFilters&&"contacts_dashboard"===this.$route.name?this.fetchFilteredContacts(1):this.fetchContacts(1)}},mounted:function(){this.fetchContacts(this.pageParameter)},methods:{updatePageParam:function(t){window.history.pushState({},null,"".concat(this.$route.path,"?page=").concat(t))},getSortAttribute:function(){var t=this,e=Object.keys(this.sortConfig).reduce((function(e,r){var n=t.sortConfig[r];return n?"".concat("asc"===n?"":"-").concat(r):e}),"");return e||(this.sortConfig={last_activity_at:"desc"},e="-last_activity_at"),e},fetchContacts:function(t){if(this.isContactAndLabelDashboard){this.updatePageParam(t);var e="";e="+"===this.searchQuery.charAt(0)?this.searchQuery.substring(1):this.searchQuery;var r={page:t,sortAttr:this.getSortAttribute(),label:this.label};e?this.$store.dispatch("contacts/search",mt({search:encodeURIComponent(e)},r)):this.$store.dispatch("contacts/get",r)}},fetchSavedFilteredContact:function(t,e){this.hasActiveSegments&&(this.updatePageParam(e),this.$store.dispatch("contacts/filter",{queryPayload:t,page:e}))},fetchFilteredContacts:function(t){if(this.hasAppliedFilters){var e=this.segmentsQuery;this.updatePageParam(t),this.$store.dispatch("contacts/filter",{queryPayload:e,page:t})}},onInputSearch:function(t){var e=t.target.value,r=!!this.searchQuery&&""===e;this.searchQuery=e,r&&this.fetchContacts(1)},onSearchSubmit:function(){this.selectedContactId="",this.searchQuery&&this.fetchContacts(1)},onPageChange:function(t){if(this.selectedContactId="",0!==this.segmentsId){var e=this.activeSegment.query;this.fetchSavedFilteredContact(e,t)}this.hasAppliedFilters?this.fetchFilteredContacts(t):this.fetchContacts(t)},openContactInfoPanel:function(t){this.selectedContactId=t,this.showContactInfoPanelPane=!0},closeContactInfoPanel:function(){this.selectedContactId="",this.showContactInfoPanelPane=!1},onToggleCreate:function(){this.showCreateModal=!this.showCreateModal},onToggleSaveFilters:function(){this.showAddSegmentsModal=!0},onCloseAddSegmentsModal:function(){this.showAddSegmentsModal=!1},onToggleDeleteFilters:function(){this.showDeleteSegmentsModal=!0},onCloseDeleteSegmentsModal:function(){this.showDeleteSegmentsModal=!1},onToggleImport:function(){this.showImportModal=!this.showImportModal},onSortChange:function(t){this.sortConfig=t,this.fetchContacts(this.meta.currentPage);var e=Object.entries(t).find((function(t){return Boolean(t[1])}))||[];this.$track(k.c.APPLY_SORT,{appliedOn:e[0],order:e[1]})},onToggleFilters:function(){this.hasActiveSegments&&this.initializeSegmentToFilterModal(this.activeSegment),this.showFiltersModal=!0},closeAdvanceFiltersModal:function(){this.showFiltersModal=!1,this.appliedFilter=[]},onApplyFilter:function(t){this.closeContactInfoPanel(),this.segmentsQuery=Object(ot.a)(t),this.$store.dispatch("contacts/filter",{queryPayload:Object(ot.a)(t)}),this.showFiltersModal=!1},onUpdateSegment:function(t,e){var r=mt(mt({},this.activeSegment),{},{name:e,query:Object(ot.a)(t)});this.$store.dispatch("customViews/update",r),this.closeAdvanceFiltersModal()},clearFilters:function(){this.$store.dispatch("contacts/clearContactFilters"),this.fetchContacts(this.pageParameter)},onExportSubmit:function(){try{this.$store.dispatch("contacts/export"),this.showAlert(this.$t("EXPORT_CONTACTS.SUCCESS_MESSAGE"))}catch(t){this.showAlert(t.message||this.$t("EXPORT_CONTACTS.ERROR_MESSAGE"))}},setParamsForEditSegmentModal:function(){return{countries:Q.a,filterTypes:Y,allCustomAttributes:this.$store.getters["attributes/getAttributesByModel"]("contact_attribute")}},initializeSegmentToFilterModal:function(t){var e,r,n=this,a=null===t||void 0===t||null===(e=t.query)||void 0===e?void 0:e.payload;Array.isArray(a)&&(r=this.appliedFilter).push.apply(r,ut(a.map((function(t){return{attribute_key:t.attribute_key,attribute_model:t.attribute_model,filter_operator:t.filter_operator,values:Array.isArray(t.values)?Object(ct.a)(t,n.setParamsForEditSegmentModal()):[],query_operator:t.query_operator,custom_attribute_type:t.custom_attribute_type}}))))},openSavedItemInSegment:function(){var t=this.segments[this.segments.length-1].id;this.$router.push({name:"contacts_segments_dashboard",params:{id:t}})},openLastItemAfterDeleteInSegment:function(){this.segments.length>0?this.openSavedItemInSegment():(this.$router.push({name:"contacts_dashboard"}),this.fetchContacts(1))}}},yt=Object(l.a)(bt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full flex flex-row"},[e("div",{staticClass:"flex flex-col h-full",class:t.wrapClass},[e("contacts-header",{attrs:{"search-query":t.searchQuery,"header-title":t.pageTitle,"segments-id":t.segmentsId,"this-selected-contact-id":""},on:{"on-input-search":t.onInputSearch,"on-toggle-create":t.onToggleCreate,"on-toggle-filter":t.onToggleFilters,"on-search-submit":t.onSearchSubmit,"on-toggle-import":t.onToggleImport,"on-export-submit":t.onExportSubmit,"on-toggle-save-filter":t.onToggleSaveFilters,"on-toggle-delete-filter":t.onToggleDeleteFilters,"on-toggle-edit-filter":t.onToggleFilters}}),t._v(" "),e("contacts-table",{attrs:{contacts:t.records,"show-search-empty-state":t.showEmptySearchResult,"is-loading":t.uiFlags.isFetching,"on-click-contact":t.openContactInfoPanel,"active-contact-id":t.selectedContactId},on:{"on-sort-change":t.onSortChange}}),t._v(" "),e("table-footer",{attrs:{"current-page":Number(t.meta.currentPage),"total-count":t.meta.count,"page-size":15},on:{"page-change":t.onPageChange}})],1),t._v(" "),t.showAddSegmentsModal?e("add-custom-views",{attrs:{"custom-views-query":t.segmentsQuery,"filter-type":t.filterType,"open-last-saved-item":t.openSavedItemInSegment},on:{close:t.onCloseAddSegmentsModal}}):t._e(),t._v(" "),t.showDeleteSegmentsModal?e("delete-custom-views",{attrs:{"show-delete-popup":t.showDeleteSegmentsModal,"active-custom-view":t.activeSegment,"custom-views-id":t.segmentsId,"active-filter-type":t.filterType,"open-last-item-after-delete":t.openLastItemAfterDeleteInSegment},on:{"update:showDeletePopup":function(e){t.showDeleteSegmentsModal=e},"update:show-delete-popup":function(e){t.showDeleteSegmentsModal=e},close:t.onCloseDeleteSegmentsModal}}):t._e(),t._v(" "),t.showContactViewPane?e("contact-info-panel",{attrs:{contact:t.selectedContact,"on-close":t.closeContactInfoPanel}}):t._e(),t._v(" "),e("create-contact",{attrs:{show:t.showCreateModal},on:{cancel:t.onToggleCreate}}),t._v(" "),e("woot-modal",{attrs:{show:t.showImportModal,"on-close":t.onToggleImport},on:{"update:show":function(e){t.showImportModal=e}}},[t.showImportModal?e("import-contacts",{attrs:{"on-close":t.onToggleImport}}):t._e()],1),t._v(" "),e("woot-modal",{attrs:{show:t.showFiltersModal,"on-close":t.closeAdvanceFiltersModal,size:"medium"},on:{"update:show":function(e){t.showFiltersModal=e}}},[t.showFiltersModal?e("contacts-advanced-filters",{attrs:{"on-close":t.closeAdvanceFiltersModal,"initial-filter-types":t.contactFilterItems,"initial-applied-filters":t.appliedFilter,"active-segment-name":t.activeSegmentName,"is-segments-view":t.hasActiveSegments},on:{applyFilter:t.onApplyFilter,updateSegment:t.onUpdateSegment,clearFilters:t.clearFilters}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=yt.exports}}]);
//# sourceMappingURL=41-6e3f337700c64785a842.chunk.js.map