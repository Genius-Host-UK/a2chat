(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{2686:function(t,e,n){},2756:function(t,e,n){"use strict";n(2686)},2815:function(t,e,n){"use strict";n(68),n(97),n(8),n(41),n(83),n(4),n(31),n(7),n(33),n(16),n(20),n(21),n(69),n(64),n(37);function r(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a={components:{Thumbnail:n(261).a},props:{agentList:{type:Array,default:function(){return[]}},selectedAgents:{type:Array,default:function(){return[]}},updateSelectedAgents:{type:Function,default:function(){}},isWorking:{type:Boolean,default:!1},submitButtonText:{type:String,default:""}},data:function(){return{}},computed:{selectedAgentCount:function(){return this.selectedAgents.length},allAgentsSelected:function(){return this.selectedAgents.length===this.agentList.length},disableSubmitButton:function(){return 0===this.selectedAgentCount}},methods:{isAgentSelected:function(t){return this.selectedAgents.includes(t)},handleSelectAgent:function(t){var e=[];e=this.isAgentSelected(t)?this.selectedAgents.filter((function(e){return e!==t})):[].concat(r(this.selectedAgents),[t]),this.updateSelectedAgents(e)},selectAllAgents:function(){var t=this.agentList.map((function(t){return t.id}));this.updateSelectedAgents(t)},agentRowClass:function(t){return{"is-active":this.isAgentSelected(t)}}}},i=(n(2756),n(5)),c=Object(i.a)(a,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"add-agents__header"}),t._v(" "),e("table",{staticClass:"woot-table"},[e("thead",[e("tr",[e("td",[e("div",{staticClass:"flex items-center"},[e("input",{attrs:{name:"select-all-agents",type:"checkbox",title:t.$t("TEAMS_SETTINGS.AGENTS.SELECT_ALL")},domProps:{checked:t.allAgentsSelected?"checked":""},on:{click:function(e){return e.target!==e.currentTarget?null:t.selectAllAgents.apply(null,arguments)}}})])]),t._v(" "),e("td",{staticClass:"text-slate-800 dark:text-slate-100"},[t._v("\n          "+t._s(t.$t("TEAMS_SETTINGS.AGENTS.AGENT"))+"\n        ")]),t._v(" "),e("td",{staticClass:"text-slate-800 dark:text-slate-100"},[t._v("\n          "+t._s(t.$t("TEAMS_SETTINGS.AGENTS.EMAIL"))+"\n        ")])])]),t._v(" "),e("tbody",t._l(t.agentList,(function(n){return e("tr",{key:n.id,class:t.agentRowClass(n.id)},[e("td",{staticClass:"w-12"},[e("div",{staticClass:"flex items-center"},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.isAgentSelected(n.id)},on:{click:function(e){return e.target!==e.currentTarget?null:(()=>t.handleSelectAgent(n.id)).apply(null,arguments)}}})])]),t._v(" "),e("td",[e("div",{staticClass:"flex items-center gap-2"},[e("thumbnail",{attrs:{src:n.thumbnail,size:"24px",username:n.name,status:n.availability_status}}),t._v(" "),e("h4",{staticClass:"text-base mb-0 text-slate-800 dark:text-slate-100"},[t._v("\n              "+t._s(n.name)+"\n            ")])],1)]),t._v(" "),e("td",[t._v("\n          "+t._s(n.email||"---")+"\n        ")])])})),0)]),t._v(" "),e("div",{staticClass:"flex items-center justify-between"},[e("p",[t._v("\n      "+t._s(t.$t("TEAMS_SETTINGS.AGENTS.SELECTED_COUNT",{selected:t.selectedAgents.length,total:t.agentList.length}))+"\n    ")]),t._v(" "),e("woot-submit-button",{attrs:{"button-text":t.submitButtonText,loading:t.isWorking,disabled:t.disableSubmitButton}})],1)])}),[],!1,null,"0265c8bc",null);e.a=c.exports},3418:function(t,e,n){"use strict";n.r(e);n(30),n(37),n(83),n(49),n(65),n(10),n(4),n(8),n(11),n(9),n(12),n(31),n(7),n(33),n(16),n(20),n(21),n(69),n(64),n(22);var r=n(25),s=n(79),a=n(271),i=n(135),c=n(2815);function o(t,e,n,r,s,a,i){try{var c=t[a](i),o=c.value}catch(l){return void n(l)}c.done?e(o):Promise.resolve(o).then(r,s)}function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={components:{PageHeader:i.a,AgentSelector:c.a},mixins:[s.a],props:{team:{type:Object,default:function(){}}},validations:{selectedAgents:{isEmpty:function(){return!!this.selectedAgents.length}}},data:function(){return{selectedAgents:[],isCreating:!1}},computed:f(f({},Object(r.mapGetters)({agentList:"agents/getAgents"})),{},{teamId:function(){return this.$route.params.teamId},headerTitle:function(){return this.$t("TEAMS_SETTINGS.ADD.TITLE",{teamName:this.currentTeam.name})},currentTeam:function(){return this.$store.getters["teams/getTeam"](this.teamId)}}),mounted:function(){this.$store.dispatch("agents/get")},methods:{updateSelectedAgents:function(t){this.$v.selectedAgents.$touch(),this.selectedAgents=l(t)},selectAllAgents:function(){this.selectedAgents=this.agentList.map((function(t){return t.id}))},addAgents:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isCreating=!0,n=e.teamId,r=e.selectedAgents,t.prev=2,t.next=5,e.$store.dispatch("teamMembers/create",{teamId:n,agentsList:r});case 5:a.a.replace({name:"settings_teams_finish",params:{page:"new",teamId:n}}),e.$store.dispatch("teams/get"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e.showAlert(t.t0.message);case 12:e.isCreating=!1;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})),function(){var e=this,n=arguments;return new Promise((function(r,s){var a=t.apply(e,n);function i(t){o(a,r,s,i,c,"next",t)}function c(t){o(a,r,s,i,c,"throw",t)}i(void 0)}))})()}}},m=p,h=n(5),A=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"wizard-body w-[75%] flex-shrink-0 flex-grow-0 max-w-[75%] overflow-y-auto"},[e("form",{staticClass:"mx-0 flex flex-wrap",on:{submit:function(e){return e.preventDefault(),t.addAgents.apply(null,arguments)}}},[e("div",{staticClass:"w-full"},[e("page-header",{attrs:{"header-title":t.headerTitle,"header-content":t.$t("TEAMS_SETTINGS.ADD.DESC")}})],1),t._v(" "),e("div",{staticClass:"w-full"},[t.$v.selectedAgents.$error?e("div",[e("p",{staticClass:"error-message"},[t._v("\n          "+t._s(t.$t("TEAMS_SETTINGS.ADD.AGENT_VALIDATION_ERROR"))+"\n        ")])]):t._e(),t._v(" "),e("agent-selector",{attrs:{"agent-list":t.agentList,"selected-agents":t.selectedAgents,"update-selected-agents":t.updateSelectedAgents,"is-working":t.isCreating,"submit-button-text":t.$t("TEAMS_SETTINGS.ADD.BUTTON_TEXT")}})],1)])])}),[],!1,null,null,null);e.default=A.exports}}]);
//# sourceMappingURL=80-52631414a574d863729d.chunk.js.map