(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{2651:function(t,e,n){},2665:function(t,e,n){"use strict";n(2651)},2674:function(t,e,n){"use strict";n(45);var i={components:{},mixins:[n(1777).a],props:{currentPage:{type:Number,default:1},pageSize:{type:Number,default:25},totalCount:{type:Number,default:0}},computed:{pageFooterIconClass:function(){return this.isRTLView?"margin-right-minus-slab":"margin-left-minus-slab"},isFooterVisible:function(){return this.totalCount&&!(this.firstIndex>this.totalCount)},firstIndex:function(){return this.pageSize*(this.currentPage-1)+1},lastIndex:function(){return Math.min(this.totalCount,this.pageSize*this.currentPage)},searchButtonClass:function(){return""!==this.searchQuery?"show":""},hasLastPage:function(){return!!Math.ceil(this.totalCount/this.pageSize)},hasFirstPage:function(){return 1===this.currentPage},hasNextPage:function(){return this.currentPage===Math.ceil(this.totalCount/this.pageSize)},hasPrevPage:function(){return 1===this.currentPage}},methods:{onNextPage:function(){if(!this.hasNextPage){var t=this.currentPage+1;this.onPageChange(t)}},onPrevPage:function(){if(!this.hasPrevPage){var t=this.currentPage-1;this.onPageChange(t)}},onFirstPage:function(){if(!this.hasFirstPage){this.onPageChange(1)}},onLastPage:function(){if(!this.hasLastPage){var t=Math.ceil(this.totalCount/this.pageSize);this.onPageChange(t)}},onPageChange:function(t){this.$emit("page-change",t)}}},a=(n(2665),n(5)),o=Object(a.a)(i,(function(){var t=this,e=t._self._c;return t.isFooterVisible?e("footer",{staticClass:"bg-white dark:bg-slate-800 h-[60px] border-t border-solid border-slate-75 dark:border-slate-700/50 flex items-center justify-between py-0 px-4"},[e("div",{staticClass:"left-aligned-wrap"},[e("div",{staticClass:"text-xs text-slate-600 dark:text-slate-200"},[e("strong",[t._v(t._s(t.firstIndex))]),t._v("\n      - "),e("strong",[t._v(t._s(t.lastIndex))]),t._v(" of\n      "),e("strong",[t._v(t._s(t.totalCount))]),t._v(" items\n    ")])]),t._v(" "),e("div",{staticClass:"right-aligned-wrap"},[t.totalCount?e("div",{staticClass:"primary button-group pagination-button-group"},[e("woot-button",{attrs:{size:"small",variant:"smooth","color-scheme":"secondary","class-names":"goto-first","is-disabled":t.hasFirstPage},on:{click:t.onFirstPage}},[e("fluent-icon",{attrs:{icon:"chevron-left",size:"18"}}),t._v(" "),e("fluent-icon",{class:t.pageFooterIconClass,attrs:{icon:"chevron-left",size:"18"}})],1),t._v(" "),e("woot-button",{attrs:{size:"small",variant:"smooth","color-scheme":"secondary","is-disabled":t.hasPrevPage},on:{click:t.onPrevPage}},[e("fluent-icon",{attrs:{icon:"chevron-left",size:"18"}})],1),t._v(" "),e("woot-button",{attrs:{size:"small",variant:"smooth","color-scheme":"secondary"},on:{click:function(t){t.preventDefault()}}},[t._v("\n        "+t._s(t.currentPage)+"\n      ")]),t._v(" "),e("woot-button",{attrs:{size:"small",variant:"smooth","color-scheme":"secondary","is-disabled":t.hasNextPage},on:{click:t.onNextPage}},[e("fluent-icon",{attrs:{icon:"chevron-right",size:"18"}})],1),t._v(" "),e("woot-button",{attrs:{size:"small",variant:"smooth","color-scheme":"secondary","class-names":"goto-last","is-disabled":t.hasLastPage},on:{click:t.onLastPage}},[e("fluent-icon",{attrs:{icon:"chevron-right",size:"18"}}),t._v(" "),e("fluent-icon",{class:t.pageFooterIconClass,attrs:{icon:"chevron-right",size:"18"}})],1)],1):t._e()])]):t._e()}),[],!1,null,"0bdf6a88",null);e.a=o.exports},2974:function(t,e,n){},2975:function(t,e,n){},3279:function(t,e,n){"use strict";n(2974)},3280:function(t,e,n){"use strict";n(2975)},3368:function(t,e,n){"use strict";n.r(e);n(41),n(10),n(4),n(8),n(11),n(9),n(12);var i=n(25),a=n(2674),o=n(261),s=n(170),r=n(1919),c=n(1914);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={components:{Thumbnail:o.a,Spinner:s.a,EmptyState:r.a},mixins:[c.a],props:{notifications:{type:Array,default:function(){return[]}},isLoading:{type:Boolean,default:!1},isUpdating:{type:Boolean,default:!1},onClickNotification:{type:Function,default:function(){}},onMarkAllDoneClick:{type:Function,default:function(){}}},computed:u(u({},Object(i.mapGetters)({notificationMetadata:"notifications/getMeta"})),{},{showEmptyResult:function(){return!this.isLoading&&0===this.notifications.length}})},h=(n(3279),n(5)),g=Object(h.a)(p,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"notification--table-wrap bg-white dark:bg-slate-900"},[t.notificationMetadata.unreadCount?e("woot-submit-button",{staticClass:"button nice success button--fixed-top",attrs:{"button-text":t.$t("NOTIFICATIONS_PAGE.MARK_ALL_DONE"),loading:t.isUpdating},on:{click:t.onMarkAllDoneClick}}):t._e(),t._v(" "),e("table",{staticClass:"woot-table notifications-table"},[e("tbody",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}]},t._l(t.notifications,(function(n){return e("tr",{key:n.id,class:{"is-unread":null===n.read_at},on:{click:()=>t.onClickNotification(n)}},[e("td",[e("div",{staticClass:"flex-view notification-contant--wrap overflow-hidden whitespace-nowrap text-ellipsis"},[e("h5",{staticClass:"notification--title"},[t._v("\n              "+t._s(`#${n.primary_actor?n.primary_actor.id:t.$t("NOTIFICATIONS_PAGE.DELETE_TITLE")}`)+"\n            ")]),t._v(" "),e("span",{staticClass:"notification--message-title overflow-hidden whitespace-nowrap text-ellipsis"},[t._v("\n              "+t._s(n.push_message_title)+"\n            ")])])]),t._v(" "),e("td",{staticClass:"text-right"},[e("span",{staticClass:"notification--type"},[t._v("\n            "+t._s(t.$t(`NOTIFICATIONS_PAGE.TYPE_LABEL.${n.notification_type}`))+"\n          ")])]),t._v(" "),e("td",{staticClass:"thumbnail--column"},[n.primary_actor.meta.assignee?e("thumbnail",{attrs:{src:n.primary_actor.meta.assignee.thumbnail,size:"36px",username:n.primary_actor.meta.assignee.name}}):t._e()],1),t._v(" "),e("td",[e("div",{staticClass:"text-right timestamp--column"},[e("span",{staticClass:"notification--created-at"},[t._v("\n              "+t._s(t.dynamicTime(n.created_at))+"\n            ")])])]),t._v(" "),e("td",[n.read_at?t._e():e("div",{staticClass:"notification--unread-indicator"})])])})),0)]),t._v(" "),t.showEmptyResult?e("empty-state",{attrs:{title:t.$t("NOTIFICATIONS_PAGE.LIST.404")}}):t._e(),t._v(" "),t.isLoading?e("div",{staticClass:"notifications--loader"},[e("spinner"),t._v(" "),e("span",[t._v(t._s(t.$t("NOTIFICATIONS_PAGE.LIST.LOADING_MESSAGE")))])],1):t._e()],1)}),[],!1,null,"61ce6fe8",null).exports,d=n(87);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v={components:{NotificationTable:g,TableFooter:a.a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(i.mapGetters)({accountId:"getCurrentAccountId",meta:"notifications/getMeta",records:"notifications/getNotifications",uiFlags:"notifications/getUIFlags"})),mounted:function(){this.$store.dispatch("notifications/get",{page:1})},methods:{onPageChange:function(t){window.history.pushState({},null,"".concat(this.$route.path,"?page=").concat(t)),this.$store.dispatch("notifications/get",{page:t})},openConversation:function(t){var e=t.primary_actor_id,n=t.primary_actor_type,i=t.primary_actor.id,a=t.notification_type;this.$track(d.a.OPEN_CONVERSATION_VIA_NOTIFICATION,{notificationType:a}),this.$store.dispatch("notifications/read",{primaryActorId:e,primaryActorType:n,unreadCount:this.meta.unreadCount}),this.$router.push("/app/accounts/".concat(this.accountId,"/conversations/").concat(i))},onMarkAllDoneClick:function(){this.$track(d.a.MARK_AS_READ_NOTIFICATIONS),this.$store.dispatch("notifications/readAll")}}},_=v,P=(n(3280),Object(h.a)(_,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"columns notification--page"},[e("div",{staticClass:"notification--content medium-12"},[e("notification-table",{attrs:{notifications:t.records,"is-loading":t.uiFlags.isFetching,"is-updating":t.uiFlags.isUpdating,"on-click-notification":t.openConversation,"on-mark-all-done-click":t.onMarkAllDoneClick}}),t._v(" "),e("table-footer",{attrs:{"current-page":Number(t.meta.currentPage),"total-count":t.meta.count},on:{"page-change":t.onPageChange}})],1)])}),[],!1,null,"cd3aa504",null));e.default=P.exports}}]);
//# sourceMappingURL=55-46d88c56c23c2d667290.chunk.js.map